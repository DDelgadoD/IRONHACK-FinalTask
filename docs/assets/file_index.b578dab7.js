import{l as oi,m as Pt}from"./file_index.ee6a5e94.js";import{u as li}from"./file_auth.4c7254c5.js";function hi(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const n=Object.getOwnPropertyDescriptor(s,i);n&&Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var es;function _(){return es.apply(null,arguments)}function ui(t){es=t}function ne(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Ue(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _r(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(D(t,e))return!1;return!0}function z(t){return t===void 0}function Te(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function dt(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function ts(t,e){var r=[],s,i=t.length;for(s=0;s<i;++s)r.push(e(t[s],s));return r}function xe(t,e){for(var r in e)D(e,r)&&(t[r]=e[r]);return D(e,"toString")&&(t.toString=e.toString),D(e,"valueOf")&&(t.valueOf=e.valueOf),t}function fe(t,e,r,s){return Os(t,e,r,s,!0).utc()}function ci(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(t){return t._pf==null&&(t._pf=ci()),t._pf}var nr;Array.prototype.some?nr=Array.prototype.some:nr=function(t){var e=Object(this),r=e.length>>>0,s;for(s=0;s<r;s++)if(s in e&&t.call(this,e[s],s,e))return!0;return!1};function yr(t){if(t._isValid==null){var e=g(t),r=nr.call(e.parsedDateParts,function(i){return i!=null}),s=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r);if(t._strict&&(s=s&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=s;else return s}return t._isValid}function At(t){var e=fe(NaN);return t!=null?xe(g(e),t):g(e).userInvalidated=!0,e}var Fr=_.momentProperties=[],Kt=!1;function pr(t,e){var r,s,i,n=Fr.length;if(z(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),z(e._i)||(t._i=e._i),z(e._f)||(t._f=e._f),z(e._l)||(t._l=e._l),z(e._strict)||(t._strict=e._strict),z(e._tzm)||(t._tzm=e._tzm),z(e._isUTC)||(t._isUTC=e._isUTC),z(e._offset)||(t._offset=e._offset),z(e._pf)||(t._pf=g(e)),z(e._locale)||(t._locale=e._locale),n>0)for(r=0;r<n;r++)s=Fr[r],i=e[s],z(i)||(t[s]=i);return t}function ft(t){pr(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Kt===!1&&(Kt=!0,_.updateOffset(this),Kt=!1)}function ae(t){return t instanceof ft||t!=null&&t._isAMomentObject!=null}function rs(t){_.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function ee(t,e){var r=!0;return xe(function(){if(_.deprecationHandler!=null&&_.deprecationHandler(null,t),r){var s=[],i,n,a,o=arguments.length;for(n=0;n<o;n++){if(i="",typeof arguments[n]=="object"){i+=`
[`+n+"] ";for(a in arguments[0])D(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[n];s.push(i)}rs(t+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),r=!1}return e.apply(this,arguments)},e)}var Lr={};function ss(t,e){_.deprecationHandler!=null&&_.deprecationHandler(t,e),Lr[t]||(rs(e),Lr[t]=!0)}_.suppressDeprecationWarnings=!1;_.deprecationHandler=null;function me(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function di(t){var e,r;for(r in t)D(t,r)&&(e=t[r],me(e)?this[r]=e:this["_"+r]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function ar(t,e){var r=xe({},t),s;for(s in e)D(e,s)&&(Ue(t[s])&&Ue(e[s])?(r[s]={},xe(r[s],t[s]),xe(r[s],e[s])):e[s]!=null?r[s]=e[s]:delete r[s]);for(s in t)D(t,s)&&!D(e,s)&&Ue(t[s])&&(r[s]=xe({},r[s]));return r}function vr(t){t!=null&&this.set(t)}var or;Object.keys?or=Object.keys:or=function(t){var e,r=[];for(e in t)D(t,e)&&r.push(e);return r};var fi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function mi(t,e,r){var s=this._calendar[t]||this._calendar.sameElse;return me(s)?s.call(e,r):s}function de(t,e,r){var s=""+Math.abs(t),i=e-s.length,n=t>=0;return(n?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}var gr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,pt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Xt={},ze={};function p(t,e,r,s){var i=s;typeof s=="string"&&(i=function(){return this[s]()}),t&&(ze[t]=i),e&&(ze[e[0]]=function(){return de(i.apply(this,arguments),e[1],e[2])}),r&&(ze[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function _i(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function yi(t){var e=t.match(gr),r,s;for(r=0,s=e.length;r<s;r++)ze[e[r]]?e[r]=ze[e[r]]:e[r]=_i(e[r]);return function(i){var n="",a;for(a=0;a<s;a++)n+=me(e[a])?e[a].call(i,t):e[a];return n}}function bt(t,e){return t.isValid()?(e=is(e,t.localeData()),Xt[e]=Xt[e]||yi(e),Xt[e](t)):t.localeData().invalidDate()}function is(t,e){var r=5;function s(i){return e.longDateFormat(i)||i}for(pt.lastIndex=0;r>=0&&pt.test(t);)t=t.replace(pt,s),pt.lastIndex=0,r-=1;return t}var pi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function vi(t){var e=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return e||!r?e:(this._longDateFormat[t]=r.match(gr).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[t])}var gi="Invalid date";function wi(){return this._invalidDate}var bi="%d",ki=/\d{1,2}/;function Si(t){return this._ordinal.replace("%d",t)}var Ti={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Oi(t,e,r,s){var i=this._relativeTime[r];return me(i)?i(t,e,r,s):i.replace(/%d/i,t)}function Di(t,e){var r=this._relativeTime[t>0?"future":"past"];return me(r)?r(e):r.replace(/%s/i,e)}var st={};function G(t,e){var r=t.toLowerCase();st[r]=st[r+"s"]=st[e]=t}function te(t){return typeof t=="string"?st[t]||st[t.toLowerCase()]:void 0}function wr(t){var e={},r,s;for(s in t)D(t,s)&&(r=te(s),r&&(e[r]=t[s]));return e}var ns={};function V(t,e){ns[t]=e}function xi(t){var e=[],r;for(r in t)D(t,r)&&e.push({unit:r,priority:ns[r]});return e.sort(function(s,i){return s.priority-i.priority}),e}function jt(t){return t%4===0&&t%100!==0||t%400===0}function Q(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function S(t){var e=+t,r=0;return e!==0&&isFinite(e)&&(r=Q(e)),r}function Ze(t,e){return function(r){return r!=null?(as(this,t,r),_.updateOffset(this,e),this):Tt(this,t)}}function Tt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function as(t,e,r){t.isValid()&&!isNaN(r)&&(e==="FullYear"&&jt(t.year())&&t.month()===1&&t.date()===29?(r=S(r),t._d["set"+(t._isUTC?"UTC":"")+e](r,t.month(),Ut(r,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](r))}function Ei(t){return t=te(t),me(this[t])?this[t]():this}function Mi(t,e){if(typeof t=="object"){t=wr(t);var r=xi(t),s,i=r.length;for(s=0;s<i;s++)this[r[s].unit](t[r[s].unit])}else if(t=te(t),me(this[t]))return this[t](e);return this}var os=/\d/,K=/\d\d/,ls=/\d{3}/,br=/\d{4}/,Yt=/[+-]?\d{6}/,I=/\d\d?/,hs=/\d\d\d\d?/,us=/\d\d\d\d\d\d?/,It=/\d{1,3}/,kr=/\d{1,4}/,$t=/[+-]?\d{1,6}/,Ke=/\d+/,Ct=/[+-]?\d+/,Ri=/Z|[+-]\d\d:?\d\d/gi,Nt=/Z|[+-]\d\d(?::?\d\d)?/gi,Pi=/[+-]?\d+(\.\d{1,3})?/,mt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ot;Ot={};function y(t,e,r){Ot[t]=me(e)?e:function(s,i){return s&&r?r:e}}function Ai(t,e){return D(Ot,t)?Ot[t](e._strict,e._locale):new RegExp(ji(t))}function ji(t){return Z(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,r,s,i,n){return r||s||i||n}))}function Z(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var lr={};function R(t,e){var r,s=e,i;for(typeof t=="string"&&(t=[t]),Te(e)&&(s=function(n,a){a[e]=S(n)}),i=t.length,r=0;r<i;r++)lr[t[r]]=s}function _t(t,e){R(t,function(r,s,i,n){i._w=i._w||{},e(r,i._w,i,n)})}function Yi(t,e,r){e!=null&&D(lr,t)&&lr[t](e,r._a,r,t)}var B=0,be=1,ce=2,U=3,se=4,ke=5,Ce=6,Ii=7,$i=8;function Ci(t,e){return(t%e+e)%e}var N;Array.prototype.indexOf?N=Array.prototype.indexOf:N=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Ut(t,e){if(isNaN(t)||isNaN(e))return NaN;var r=Ci(e,12);return t+=(e-r)/12,r===1?jt(t)?29:28:31-r%7%2}p("M",["MM",2],"Mo",function(){return this.month()+1});p("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});p("MMMM",0,0,function(t){return this.localeData().months(this,t)});G("month","M");V("month",8);y("M",I);y("MM",I,K);y("MMM",function(t,e){return e.monthsShortRegex(t)});y("MMMM",function(t,e){return e.monthsRegex(t)});R(["M","MM"],function(t,e){e[be]=S(t)-1});R(["MMM","MMMM"],function(t,e,r,s){var i=r._locale.monthsParse(t,s,r._strict);i!=null?e[be]=i:g(r).invalidMonth=t});var Ni="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),cs="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ds=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ui=mt,Fi=mt;function Li(t,e){return t?ne(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ds).test(e)?"format":"standalone"][t.month()]:ne(this._months)?this._months:this._months.standalone}function Wi(t,e){return t?ne(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ds.test(e)?"format":"standalone"][t.month()]:ne(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Hi(t,e,r){var s,i,n,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)n=fe([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(n,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(n,"").toLocaleLowerCase();return r?e==="MMM"?(i=N.call(this._shortMonthsParse,a),i!==-1?i:null):(i=N.call(this._longMonthsParse,a),i!==-1?i:null):e==="MMM"?(i=N.call(this._shortMonthsParse,a),i!==-1?i:(i=N.call(this._longMonthsParse,a),i!==-1?i:null)):(i=N.call(this._longMonthsParse,a),i!==-1?i:(i=N.call(this._shortMonthsParse,a),i!==-1?i:null))}function Bi(t,e,r){var s,i,n;if(this._monthsParseExact)return Hi.call(this,t,e,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=fe([2e3,s]),r&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[s]&&(n="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(n.replace(".",""),"i")),r&&e==="MMMM"&&this._longMonthsParse[s].test(t))return s;if(r&&e==="MMM"&&this._shortMonthsParse[s].test(t))return s;if(!r&&this._monthsParse[s].test(t))return s}}function fs(t,e){var r;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=S(e);else if(e=t.localeData().monthsParse(e),!Te(e))return t}return r=Math.min(t.date(),Ut(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,r),t}function ms(t){return t!=null?(fs(this,t),_.updateOffset(this,!0),this):Tt(this,"Month")}function Gi(){return Ut(this.year(),this.month())}function Vi(t){return this._monthsParseExact?(D(this,"_monthsRegex")||_s.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(D(this,"_monthsShortRegex")||(this._monthsShortRegex=Ui),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function zi(t){return this._monthsParseExact?(D(this,"_monthsRegex")||_s.call(this),t?this._monthsStrictRegex:this._monthsRegex):(D(this,"_monthsRegex")||(this._monthsRegex=Fi),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function _s(){function t(a,o){return o.length-a.length}var e=[],r=[],s=[],i,n;for(i=0;i<12;i++)n=fe([2e3,i]),e.push(this.monthsShort(n,"")),r.push(this.months(n,"")),s.push(this.months(n,"")),s.push(this.monthsShort(n,""));for(e.sort(t),r.sort(t),s.sort(t),i=0;i<12;i++)e[i]=Z(e[i]),r[i]=Z(r[i]);for(i=0;i<24;i++)s[i]=Z(s[i]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}p("Y",0,0,function(){var t=this.year();return t<=9999?de(t,4):"+"+t});p(0,["YY",2],0,function(){return this.year()%100});p(0,["YYYY",4],0,"year");p(0,["YYYYY",5],0,"year");p(0,["YYYYYY",6,!0],0,"year");G("year","y");V("year",1);y("Y",Ct);y("YY",I,K);y("YYYY",kr,br);y("YYYYY",$t,Yt);y("YYYYYY",$t,Yt);R(["YYYYY","YYYYYY"],B);R("YYYY",function(t,e){e[B]=t.length===2?_.parseTwoDigitYear(t):S(t)});R("YY",function(t,e){e[B]=_.parseTwoDigitYear(t)});R("Y",function(t,e){e[B]=parseInt(t,10)});function it(t){return jt(t)?366:365}_.parseTwoDigitYear=function(t){return S(t)+(S(t)>68?1900:2e3)};var ys=Ze("FullYear",!0);function Ji(){return jt(this.year())}function qi(t,e,r,s,i,n,a){var o;return t<100&&t>=0?(o=new Date(t+400,e,r,s,i,n,a),isFinite(o.getFullYear())&&o.setFullYear(t)):o=new Date(t,e,r,s,i,n,a),o}function ot(t){var e,r;return t<100&&t>=0?(r=Array.prototype.slice.call(arguments),r[0]=t+400,e=new Date(Date.UTC.apply(null,r)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Dt(t,e,r){var s=7+e-r,i=(7+ot(t,0,s).getUTCDay()-e)%7;return-i+s-1}function ps(t,e,r,s,i){var n=(7+r-s)%7,a=Dt(t,s,i),o=1+7*(e-1)+n+a,u,h;return o<=0?(u=t-1,h=it(u)+o):o>it(t)?(u=t+1,h=o-it(t)):(u=t,h=o),{year:u,dayOfYear:h}}function lt(t,e,r){var s=Dt(t.year(),e,r),i=Math.floor((t.dayOfYear()-s-1)/7)+1,n,a;return i<1?(a=t.year()-1,n=i+Se(a,e,r)):i>Se(t.year(),e,r)?(n=i-Se(t.year(),e,r),a=t.year()+1):(a=t.year(),n=i),{week:n,year:a}}function Se(t,e,r){var s=Dt(t,e,r),i=Dt(t+1,e,r);return(it(t)-s+i)/7}p("w",["ww",2],"wo","week");p("W",["WW",2],"Wo","isoWeek");G("week","w");G("isoWeek","W");V("week",5);V("isoWeek",5);y("w",I);y("ww",I,K);y("W",I);y("WW",I,K);_t(["w","ww","W","WW"],function(t,e,r,s){e[s.substr(0,1)]=S(t)});function Zi(t){return lt(t,this._week.dow,this._week.doy).week}var Ki={dow:0,doy:6};function Xi(){return this._week.dow}function Qi(){return this._week.doy}function en(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function tn(t){var e=lt(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}p("d",0,"do","day");p("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});p("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});p("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});p("e",0,0,"weekday");p("E",0,0,"isoWeekday");G("day","d");G("weekday","e");G("isoWeekday","E");V("day",11);V("weekday",11);V("isoWeekday",11);y("d",I);y("e",I);y("E",I);y("dd",function(t,e){return e.weekdaysMinRegex(t)});y("ddd",function(t,e){return e.weekdaysShortRegex(t)});y("dddd",function(t,e){return e.weekdaysRegex(t)});_t(["dd","ddd","dddd"],function(t,e,r,s){var i=r._locale.weekdaysParse(t,s,r._strict);i!=null?e.d=i:g(r).invalidWeekday=t});_t(["d","e","E"],function(t,e,r,s){e[s]=S(t)});function rn(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function sn(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Sr(t,e){return t.slice(e,7).concat(t.slice(0,e))}var nn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),vs="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),an="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),on=mt,ln=mt,hn=mt;function un(t,e){var r=ne(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Sr(r,this._week.dow):t?r[t.day()]:r}function cn(t){return t===!0?Sr(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function dn(t){return t===!0?Sr(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function fn(t,e,r){var s,i,n,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)n=fe([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(n,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(n,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(n,"").toLocaleLowerCase();return r?e==="dddd"?(i=N.call(this._weekdaysParse,a),i!==-1?i:null):e==="ddd"?(i=N.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=N.call(this._minWeekdaysParse,a),i!==-1?i:null):e==="dddd"?(i=N.call(this._weekdaysParse,a),i!==-1||(i=N.call(this._shortWeekdaysParse,a),i!==-1)?i:(i=N.call(this._minWeekdaysParse,a),i!==-1?i:null)):e==="ddd"?(i=N.call(this._shortWeekdaysParse,a),i!==-1||(i=N.call(this._weekdaysParse,a),i!==-1)?i:(i=N.call(this._minWeekdaysParse,a),i!==-1?i:null)):(i=N.call(this._minWeekdaysParse,a),i!==-1||(i=N.call(this._weekdaysParse,a),i!==-1)?i:(i=N.call(this._shortWeekdaysParse,a),i!==-1?i:null))}function mn(t,e,r){var s,i,n;if(this._weekdaysParseExact)return fn.call(this,t,e,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=fe([2e3,1]).day(s),r&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(n.replace(".",""),"i")),r&&e==="dddd"&&this._fullWeekdaysParse[s].test(t))return s;if(r&&e==="ddd"&&this._shortWeekdaysParse[s].test(t))return s;if(r&&e==="dd"&&this._minWeekdaysParse[s].test(t))return s;if(!r&&this._weekdaysParse[s].test(t))return s}}function _n(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=rn(t,this.localeData()),this.add(t-e,"d")):e}function yn(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function pn(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=sn(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function vn(t){return this._weekdaysParseExact?(D(this,"_weekdaysRegex")||Tr.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(D(this,"_weekdaysRegex")||(this._weekdaysRegex=on),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function gn(t){return this._weekdaysParseExact?(D(this,"_weekdaysRegex")||Tr.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(D(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ln),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function wn(t){return this._weekdaysParseExact?(D(this,"_weekdaysRegex")||Tr.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(D(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=hn),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Tr(){function t(l,d){return d.length-l.length}var e=[],r=[],s=[],i=[],n,a,o,u,h;for(n=0;n<7;n++)a=fe([2e3,1]).day(n),o=Z(this.weekdaysMin(a,"")),u=Z(this.weekdaysShort(a,"")),h=Z(this.weekdays(a,"")),e.push(o),r.push(u),s.push(h),i.push(o),i.push(u),i.push(h);e.sort(t),r.sort(t),s.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Or(){return this.hours()%12||12}function bn(){return this.hours()||24}p("H",["HH",2],0,"hour");p("h",["hh",2],0,Or);p("k",["kk",2],0,bn);p("hmm",0,0,function(){return""+Or.apply(this)+de(this.minutes(),2)});p("hmmss",0,0,function(){return""+Or.apply(this)+de(this.minutes(),2)+de(this.seconds(),2)});p("Hmm",0,0,function(){return""+this.hours()+de(this.minutes(),2)});p("Hmmss",0,0,function(){return""+this.hours()+de(this.minutes(),2)+de(this.seconds(),2)});function gs(t,e){p(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}gs("a",!0);gs("A",!1);G("hour","h");V("hour",13);function ws(t,e){return e._meridiemParse}y("a",ws);y("A",ws);y("H",I);y("h",I);y("k",I);y("HH",I,K);y("hh",I,K);y("kk",I,K);y("hmm",hs);y("hmmss",us);y("Hmm",hs);y("Hmmss",us);R(["H","HH"],U);R(["k","kk"],function(t,e,r){var s=S(t);e[U]=s===24?0:s});R(["a","A"],function(t,e,r){r._isPm=r._locale.isPM(t),r._meridiem=t});R(["h","hh"],function(t,e,r){e[U]=S(t),g(r).bigHour=!0});R("hmm",function(t,e,r){var s=t.length-2;e[U]=S(t.substr(0,s)),e[se]=S(t.substr(s)),g(r).bigHour=!0});R("hmmss",function(t,e,r){var s=t.length-4,i=t.length-2;e[U]=S(t.substr(0,s)),e[se]=S(t.substr(s,2)),e[ke]=S(t.substr(i)),g(r).bigHour=!0});R("Hmm",function(t,e,r){var s=t.length-2;e[U]=S(t.substr(0,s)),e[se]=S(t.substr(s))});R("Hmmss",function(t,e,r){var s=t.length-4,i=t.length-2;e[U]=S(t.substr(0,s)),e[se]=S(t.substr(s,2)),e[ke]=S(t.substr(i))});function kn(t){return(t+"").toLowerCase().charAt(0)==="p"}var Sn=/[ap]\.?m?\.?/i,Tn=Ze("Hours",!0);function On(t,e,r){return t>11?r?"pm":"PM":r?"am":"AM"}var bs={calendar:fi,longDateFormat:pi,invalidDate:gi,ordinal:bi,dayOfMonthOrdinalParse:ki,relativeTime:Ti,months:Ni,monthsShort:cs,week:Ki,weekdays:nn,weekdaysMin:an,weekdaysShort:vs,meridiemParse:Sn},$={},et={},ht;function Dn(t,e){var r,s=Math.min(t.length,e.length);for(r=0;r<s;r+=1)if(t[r]!==e[r])return r;return s}function Wr(t){return t&&t.toLowerCase().replace("_","-")}function xn(t){for(var e=0,r,s,i,n;e<t.length;){for(n=Wr(t[e]).split("-"),r=n.length,s=Wr(t[e+1]),s=s?s.split("-"):null;r>0;){if(i=Ft(n.slice(0,r).join("-")),i)return i;if(s&&s.length>=r&&Dn(n,s)>=r-1)break;r--}e++}return ht}function En(t){return t.match("^[^/\\\\]*$")!=null}function Ft(t){var e=null,r;if($[t]===void 0&&typeof module<"u"&&module&&module.exports&&En(t))try{e=ht._abbr,r=require,r("./locale/"+t),Me(e)}catch{$[t]=null}return $[t]}function Me(t,e){var r;return t&&(z(e)?r=Oe(t):r=Dr(t,e),r?ht=r:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),ht._abbr}function Dr(t,e){if(e!==null){var r,s=bs;if(e.abbr=t,$[t]!=null)ss("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=$[t]._config;else if(e.parentLocale!=null)if($[e.parentLocale]!=null)s=$[e.parentLocale]._config;else if(r=Ft(e.parentLocale),r!=null)s=r._config;else return et[e.parentLocale]||(et[e.parentLocale]=[]),et[e.parentLocale].push({name:t,config:e}),null;return $[t]=new vr(ar(s,e)),et[t]&&et[t].forEach(function(i){Dr(i.name,i.config)}),Me(t),$[t]}else return delete $[t],null}function Mn(t,e){if(e!=null){var r,s,i=bs;$[t]!=null&&$[t].parentLocale!=null?$[t].set(ar($[t]._config,e)):(s=Ft(t),s!=null&&(i=s._config),e=ar(i,e),s==null&&(e.abbr=t),r=new vr(e),r.parentLocale=$[t],$[t]=r),Me(t)}else $[t]!=null&&($[t].parentLocale!=null?($[t]=$[t].parentLocale,t===Me()&&Me(t)):$[t]!=null&&delete $[t]);return $[t]}function Oe(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ht;if(!ne(t)){if(e=Ft(t),e)return e;t=[t]}return xn(t)}function Rn(){return or($)}function xr(t){var e,r=t._a;return r&&g(t).overflow===-2&&(e=r[be]<0||r[be]>11?be:r[ce]<1||r[ce]>Ut(r[B],r[be])?ce:r[U]<0||r[U]>24||r[U]===24&&(r[se]!==0||r[ke]!==0||r[Ce]!==0)?U:r[se]<0||r[se]>59?se:r[ke]<0||r[ke]>59?ke:r[Ce]<0||r[Ce]>999?Ce:-1,g(t)._overflowDayOfYear&&(e<B||e>ce)&&(e=ce),g(t)._overflowWeeks&&e===-1&&(e=Ii),g(t)._overflowWeekday&&e===-1&&(e=$i),g(t).overflow=e),t}var Pn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,An=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,jn=/Z|[+-]\d\d(?::?\d\d)?/,vt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Qt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Yn=/^\/?Date\((-?\d+)/i,In=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,$n={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ks(t){var e,r,s=t._i,i=Pn.exec(s)||An.exec(s),n,a,o,u,h=vt.length,l=Qt.length;if(i){for(g(t).iso=!0,e=0,r=h;e<r;e++)if(vt[e][1].exec(i[1])){a=vt[e][0],n=vt[e][2]!==!1;break}if(a==null){t._isValid=!1;return}if(i[3]){for(e=0,r=l;e<r;e++)if(Qt[e][1].exec(i[3])){o=(i[2]||" ")+Qt[e][0];break}if(o==null){t._isValid=!1;return}}if(!n&&o!=null){t._isValid=!1;return}if(i[4])if(jn.exec(i[4]))u="Z";else{t._isValid=!1;return}t._f=a+(o||"")+(u||""),Mr(t)}else t._isValid=!1}function Cn(t,e,r,s,i,n){var a=[Nn(t),cs.indexOf(e),parseInt(r,10),parseInt(s,10),parseInt(i,10)];return n&&a.push(parseInt(n,10)),a}function Nn(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Un(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Fn(t,e,r){if(t){var s=vs.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(s!==i)return g(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function Ln(t,e,r){if(t)return $n[t];if(e)return 0;var s=parseInt(r,10),i=s%100,n=(s-i)/100;return n*60+i}function Ss(t){var e=In.exec(Un(t._i)),r;if(e){if(r=Cn(e[4],e[3],e[2],e[5],e[6],e[7]),!Fn(e[1],r,t))return;t._a=r,t._tzm=Ln(e[8],e[9],e[10]),t._d=ot.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),g(t).rfc2822=!0}else t._isValid=!1}function Wn(t){var e=Yn.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(ks(t),t._isValid===!1)delete t._isValid;else return;if(Ss(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:_.createFromInputFallback(t)}_.createFromInputFallback=ee("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Be(t,e,r){return t!=null?t:e!=null?e:r}function Hn(t){var e=new Date(_.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Er(t){var e,r,s=[],i,n,a;if(!t._d){for(i=Hn(t),t._w&&t._a[ce]==null&&t._a[be]==null&&Bn(t),t._dayOfYear!=null&&(a=Be(t._a[B],i[B]),(t._dayOfYear>it(a)||t._dayOfYear===0)&&(g(t)._overflowDayOfYear=!0),r=ot(a,0,t._dayOfYear),t._a[be]=r.getUTCMonth(),t._a[ce]=r.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=s[e]=i[e];for(;e<7;e++)t._a[e]=s[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[U]===24&&t._a[se]===0&&t._a[ke]===0&&t._a[Ce]===0&&(t._nextDay=!0,t._a[U]=0),t._d=(t._useUTC?ot:qi).apply(null,s),n=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[U]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==n&&(g(t).weekdayMismatch=!0)}}function Bn(t){var e,r,s,i,n,a,o,u,h;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(n=1,a=4,r=Be(e.GG,t._a[B],lt(Y(),1,4).year),s=Be(e.W,1),i=Be(e.E,1),(i<1||i>7)&&(u=!0)):(n=t._locale._week.dow,a=t._locale._week.doy,h=lt(Y(),n,a),r=Be(e.gg,t._a[B],h.year),s=Be(e.w,h.week),e.d!=null?(i=e.d,(i<0||i>6)&&(u=!0)):e.e!=null?(i=e.e+n,(e.e<0||e.e>6)&&(u=!0)):i=n),s<1||s>Se(r,n,a)?g(t)._overflowWeeks=!0:u!=null?g(t)._overflowWeekday=!0:(o=ps(r,s,i,n,a),t._a[B]=o.year,t._dayOfYear=o.dayOfYear)}_.ISO_8601=function(){};_.RFC_2822=function(){};function Mr(t){if(t._f===_.ISO_8601){ks(t);return}if(t._f===_.RFC_2822){Ss(t);return}t._a=[],g(t).empty=!0;var e=""+t._i,r,s,i,n,a,o=e.length,u=0,h,l;for(i=is(t._f,t._locale).match(gr)||[],l=i.length,r=0;r<l;r++)n=i[r],s=(e.match(Ai(n,t))||[])[0],s&&(a=e.substr(0,e.indexOf(s)),a.length>0&&g(t).unusedInput.push(a),e=e.slice(e.indexOf(s)+s.length),u+=s.length),ze[n]?(s?g(t).empty=!1:g(t).unusedTokens.push(n),Yi(n,s,t)):t._strict&&!s&&g(t).unusedTokens.push(n);g(t).charsLeftOver=o-u,e.length>0&&g(t).unusedInput.push(e),t._a[U]<=12&&g(t).bigHour===!0&&t._a[U]>0&&(g(t).bigHour=void 0),g(t).parsedDateParts=t._a.slice(0),g(t).meridiem=t._meridiem,t._a[U]=Gn(t._locale,t._a[U],t._meridiem),h=g(t).era,h!==null&&(t._a[B]=t._locale.erasConvertYear(h,t._a[B])),Er(t),xr(t)}function Gn(t,e,r){var s;return r==null?e:t.meridiemHour!=null?t.meridiemHour(e,r):(t.isPM!=null&&(s=t.isPM(r),s&&e<12&&(e+=12),!s&&e===12&&(e=0)),e)}function Vn(t){var e,r,s,i,n,a,o=!1,u=t._f.length;if(u===0){g(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<u;i++)n=0,a=!1,e=pr({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],Mr(e),yr(e)&&(a=!0),n+=g(e).charsLeftOver,n+=g(e).unusedTokens.length*10,g(e).score=n,o?n<s&&(s=n,r=e):(s==null||n<s||a)&&(s=n,r=e,a&&(o=!0));xe(t,r||e)}function zn(t){if(!t._d){var e=wr(t._i),r=e.day===void 0?e.date:e.day;t._a=ts([e.year,e.month,r,e.hour,e.minute,e.second,e.millisecond],function(s){return s&&parseInt(s,10)}),Er(t)}}function Jn(t){var e=new ft(xr(Ts(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Ts(t){var e=t._i,r=t._f;return t._locale=t._locale||Oe(t._l),e===null||r===void 0&&e===""?At({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),ae(e)?new ft(xr(e)):(dt(e)?t._d=e:ne(r)?Vn(t):r?Mr(t):qn(t),yr(t)||(t._d=null),t))}function qn(t){var e=t._i;z(e)?t._d=new Date(_.now()):dt(e)?t._d=new Date(e.valueOf()):typeof e=="string"?Wn(t):ne(e)?(t._a=ts(e.slice(0),function(r){return parseInt(r,10)}),Er(t)):Ue(e)?zn(t):Te(e)?t._d=new Date(e):_.createFromInputFallback(t)}function Os(t,e,r,s,i){var n={};return(e===!0||e===!1)&&(s=e,e=void 0),(r===!0||r===!1)&&(s=r,r=void 0),(Ue(t)&&_r(t)||ne(t)&&t.length===0)&&(t=void 0),n._isAMomentObject=!0,n._useUTC=n._isUTC=i,n._l=r,n._i=t,n._f=e,n._strict=s,Jn(n)}function Y(t,e,r,s){return Os(t,e,r,s,!1)}var Zn=ee("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Y.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:At()}),Kn=ee("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Y.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:At()});function Ds(t,e){var r,s;if(e.length===1&&ne(e[0])&&(e=e[0]),!e.length)return Y();for(r=e[0],s=1;s<e.length;++s)(!e[s].isValid()||e[s][t](r))&&(r=e[s]);return r}function Xn(){var t=[].slice.call(arguments,0);return Ds("isBefore",t)}function Qn(){var t=[].slice.call(arguments,0);return Ds("isAfter",t)}var ea=function(){return Date.now?Date.now():+new Date},tt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ta(t){var e,r=!1,s,i=tt.length;for(e in t)if(D(t,e)&&!(N.call(tt,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(s=0;s<i;++s)if(t[tt[s]]){if(r)return!1;parseFloat(t[tt[s]])!==S(t[tt[s]])&&(r=!0)}return!0}function ra(){return this._isValid}function sa(){return oe(NaN)}function Lt(t){var e=wr(t),r=e.year||0,s=e.quarter||0,i=e.month||0,n=e.week||e.isoWeek||0,a=e.day||0,o=e.hour||0,u=e.minute||0,h=e.second||0,l=e.millisecond||0;this._isValid=ta(e),this._milliseconds=+l+h*1e3+u*6e4+o*1e3*60*60,this._days=+a+n*7,this._months=+i+s*3+r*12,this._data={},this._locale=Oe(),this._bubble()}function kt(t){return t instanceof Lt}function hr(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function ia(t,e,r){var s=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),n=0,a;for(a=0;a<s;a++)(r&&t[a]!==e[a]||!r&&S(t[a])!==S(e[a]))&&n++;return n+i}function xs(t,e){p(t,0,0,function(){var r=this.utcOffset(),s="+";return r<0&&(r=-r,s="-"),s+de(~~(r/60),2)+e+de(~~r%60,2)})}xs("Z",":");xs("ZZ","");y("Z",Nt);y("ZZ",Nt);R(["Z","ZZ"],function(t,e,r){r._useUTC=!0,r._tzm=Rr(Nt,t)});var na=/([\+\-]|\d\d)/gi;function Rr(t,e){var r=(e||"").match(t),s,i,n;return r===null?null:(s=r[r.length-1]||[],i=(s+"").match(na)||["-",0,0],n=+(i[1]*60)+S(i[2]),n===0?0:i[0]==="+"?n:-n)}function Pr(t,e){var r,s;return e._isUTC?(r=e.clone(),s=(ae(t)||dt(t)?t.valueOf():Y(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+s),_.updateOffset(r,!1),r):Y(t).local()}function ur(t){return-Math.round(t._d.getTimezoneOffset())}_.updateOffset=function(){};function aa(t,e,r){var s=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=Rr(Nt,t),t===null)return this}else Math.abs(t)<16&&!r&&(t=t*60);return!this._isUTC&&e&&(i=ur(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),s!==t&&(!e||this._changeInProgress?Rs(this,oe(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,_.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:ur(this)}function oa(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function la(t){return this.utcOffset(0,t)}function ha(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(ur(this),"m")),this}function ua(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=Rr(Ri,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function ca(t){return this.isValid()?(t=t?Y(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function da(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function fa(){if(!z(this._isDSTShifted))return this._isDSTShifted;var t={},e;return pr(t,this),t=Ts(t),t._a?(e=t._isUTC?fe(t._a):Y(t._a),this._isDSTShifted=this.isValid()&&ia(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function ma(){return this.isValid()?!this._isUTC:!1}function _a(){return this.isValid()?this._isUTC:!1}function Es(){return this.isValid()?this._isUTC&&this._offset===0:!1}var ya=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,pa=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function oe(t,e){var r=t,s=null,i,n,a;return kt(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:Te(t)||!isNaN(+t)?(r={},e?r[e]=+t:r.milliseconds=+t):(s=ya.exec(t))?(i=s[1]==="-"?-1:1,r={y:0,d:S(s[ce])*i,h:S(s[U])*i,m:S(s[se])*i,s:S(s[ke])*i,ms:S(hr(s[Ce]*1e3))*i}):(s=pa.exec(t))?(i=s[1]==="-"?-1:1,r={y:Ae(s[2],i),M:Ae(s[3],i),w:Ae(s[4],i),d:Ae(s[5],i),h:Ae(s[6],i),m:Ae(s[7],i),s:Ae(s[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(a=va(Y(r.from),Y(r.to)),r={},r.ms=a.milliseconds,r.M=a.months),n=new Lt(r),kt(t)&&D(t,"_locale")&&(n._locale=t._locale),kt(t)&&D(t,"_isValid")&&(n._isValid=t._isValid),n}oe.fn=Lt.prototype;oe.invalid=sa;function Ae(t,e){var r=t&&parseFloat(t.replace(",","."));return(isNaN(r)?0:r)*e}function Hr(t,e){var r={};return r.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(r.months,"M").isAfter(e)&&--r.months,r.milliseconds=+e-+t.clone().add(r.months,"M"),r}function va(t,e){var r;return t.isValid()&&e.isValid()?(e=Pr(e,t),t.isBefore(e)?r=Hr(t,e):(r=Hr(e,t),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function Ms(t,e){return function(r,s){var i,n;return s!==null&&!isNaN(+s)&&(ss(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=r,r=s,s=n),i=oe(r,s),Rs(this,i,t),this}}function Rs(t,e,r,s){var i=e._milliseconds,n=hr(e._days),a=hr(e._months);!t.isValid()||(s=s==null?!0:s,a&&fs(t,Tt(t,"Month")+a*r),n&&as(t,"Date",Tt(t,"Date")+n*r),i&&t._d.setTime(t._d.valueOf()+i*r),s&&_.updateOffset(t,n||a))}var ga=Ms(1,"add"),wa=Ms(-1,"subtract");function Ps(t){return typeof t=="string"||t instanceof String}function ba(t){return ae(t)||dt(t)||Ps(t)||Te(t)||Sa(t)||ka(t)||t===null||t===void 0}function ka(t){var e=Ue(t)&&!_r(t),r=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,n,a=s.length;for(i=0;i<a;i+=1)n=s[i],r=r||D(t,n);return e&&r}function Sa(t){var e=ne(t),r=!1;return e&&(r=t.filter(function(s){return!Te(s)&&Ps(t)}).length===0),e&&r}function Ta(t){var e=Ue(t)&&!_r(t),r=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,n;for(i=0;i<s.length;i+=1)n=s[i],r=r||D(t,n);return e&&r}function Oa(t,e){var r=t.diff(e,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function Da(t,e){arguments.length===1&&(arguments[0]?ba(arguments[0])?(t=arguments[0],e=void 0):Ta(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var r=t||Y(),s=Pr(r,this).startOf("day"),i=_.calendarFormat(this,s)||"sameElse",n=e&&(me(e[i])?e[i].call(this,r):e[i]);return this.format(n||this.localeData().calendar(i,this,Y(r)))}function xa(){return new ft(this)}function Ea(t,e){var r=ae(t)?t:Y(t);return this.isValid()&&r.isValid()?(e=te(e)||"millisecond",e==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(e).valueOf()):!1}function Ma(t,e){var r=ae(t)?t:Y(t);return this.isValid()&&r.isValid()?(e=te(e)||"millisecond",e==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(e).valueOf()<r.valueOf()):!1}function Ra(t,e,r,s){var i=ae(t)?t:Y(t),n=ae(e)?e:Y(e);return this.isValid()&&i.isValid()&&n.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(s[1]===")"?this.isBefore(n,r):!this.isAfter(n,r))):!1}function Pa(t,e){var r=ae(t)?t:Y(t),s;return this.isValid()&&r.isValid()?(e=te(e)||"millisecond",e==="millisecond"?this.valueOf()===r.valueOf():(s=r.valueOf(),this.clone().startOf(e).valueOf()<=s&&s<=this.clone().endOf(e).valueOf())):!1}function Aa(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ja(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Ya(t,e,r){var s,i,n;if(!this.isValid())return NaN;if(s=Pr(t,this),!s.isValid())return NaN;switch(i=(s.utcOffset()-this.utcOffset())*6e4,e=te(e),e){case"year":n=St(this,s)/12;break;case"month":n=St(this,s);break;case"quarter":n=St(this,s)/3;break;case"second":n=(this-s)/1e3;break;case"minute":n=(this-s)/6e4;break;case"hour":n=(this-s)/36e5;break;case"day":n=(this-s-i)/864e5;break;case"week":n=(this-s-i)/6048e5;break;default:n=this-s}return r?n:Q(n)}function St(t,e){if(t.date()<e.date())return-St(e,t);var r=(e.year()-t.year())*12+(e.month()-t.month()),s=t.clone().add(r,"months"),i,n;return e-s<0?(i=t.clone().add(r-1,"months"),n=(e-s)/(s-i)):(i=t.clone().add(r+1,"months"),n=(e-s)/(i-s)),-(r+n)||0}_.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";_.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Ia(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function $a(t){if(!this.isValid())return null;var e=t!==!0,r=e?this.clone().utc():this;return r.year()<0||r.year()>9999?bt(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):me(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",bt(r,"Z")):bt(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Ca(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",r,s,i,n;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),r="["+t+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",n=e+'[")]',this.format(r+s+i+n)}function Na(t){t||(t=this.isUtc()?_.defaultFormatUtc:_.defaultFormat);var e=bt(this,t);return this.localeData().postformat(e)}function Ua(t,e){return this.isValid()&&(ae(t)&&t.isValid()||Y(t).isValid())?oe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Fa(t){return this.from(Y(),t)}function La(t,e){return this.isValid()&&(ae(t)&&t.isValid()||Y(t).isValid())?oe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Wa(t){return this.to(Y(),t)}function As(t){var e;return t===void 0?this._locale._abbr:(e=Oe(t),e!=null&&(this._locale=e),this)}var js=ee("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function Ys(){return this._locale}var xt=1e3,Je=60*xt,Et=60*Je,Is=(365*400+97)*24*Et;function qe(t,e){return(t%e+e)%e}function $s(t,e,r){return t<100&&t>=0?new Date(t+400,e,r)-Is:new Date(t,e,r).valueOf()}function Cs(t,e,r){return t<100&&t>=0?Date.UTC(t+400,e,r)-Is:Date.UTC(t,e,r)}function Ha(t){var e,r;if(t=te(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?Cs:$s,t){case"year":e=r(this.year(),0,1);break;case"quarter":e=r(this.year(),this.month()-this.month()%3,1);break;case"month":e=r(this.year(),this.month(),1);break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=r(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=qe(e+(this._isUTC?0:this.utcOffset()*Je),Et);break;case"minute":e=this._d.valueOf(),e-=qe(e,Je);break;case"second":e=this._d.valueOf(),e-=qe(e,xt);break}return this._d.setTime(e),_.updateOffset(this,!0),this}function Ba(t){var e,r;if(t=te(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?Cs:$s,t){case"year":e=r(this.year()+1,0,1)-1;break;case"quarter":e=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=r(this.year(),this.month()+1,1)-1;break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Et-qe(e+(this._isUTC?0:this.utcOffset()*Je),Et)-1;break;case"minute":e=this._d.valueOf(),e+=Je-qe(e,Je)-1;break;case"second":e=this._d.valueOf(),e+=xt-qe(e,xt)-1;break}return this._d.setTime(e),_.updateOffset(this,!0),this}function Ga(){return this._d.valueOf()-(this._offset||0)*6e4}function Va(){return Math.floor(this.valueOf()/1e3)}function za(){return new Date(this.valueOf())}function Ja(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function qa(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Za(){return this.isValid()?this.toISOString():null}function Ka(){return yr(this)}function Xa(){return xe({},g(this))}function Qa(){return g(this).overflow}function eo(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}p("N",0,0,"eraAbbr");p("NN",0,0,"eraAbbr");p("NNN",0,0,"eraAbbr");p("NNNN",0,0,"eraName");p("NNNNN",0,0,"eraNarrow");p("y",["y",1],"yo","eraYear");p("y",["yy",2],0,"eraYear");p("y",["yyy",3],0,"eraYear");p("y",["yyyy",4],0,"eraYear");y("N",Ar);y("NN",Ar);y("NNN",Ar);y("NNNN",co);y("NNNNN",fo);R(["N","NN","NNN","NNNN","NNNNN"],function(t,e,r,s){var i=r._locale.erasParse(t,s,r._strict);i?g(r).era=i:g(r).invalidEra=t});y("y",Ke);y("yy",Ke);y("yyy",Ke);y("yyyy",Ke);y("yo",mo);R(["y","yy","yyy","yyyy"],B);R(["yo"],function(t,e,r,s){var i;r._locale._eraYearOrdinalRegex&&(i=t.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?e[B]=r._locale.eraYearOrdinalParse(t,i):e[B]=parseInt(t,10)});function to(t,e){var r,s,i,n=this._eras||Oe("en")._eras;for(r=0,s=n.length;r<s;++r){switch(typeof n[r].since){case"string":i=_(n[r].since).startOf("day"),n[r].since=i.valueOf();break}switch(typeof n[r].until){case"undefined":n[r].until=1/0;break;case"string":i=_(n[r].until).startOf("day").valueOf(),n[r].until=i.valueOf();break}}return n}function ro(t,e,r){var s,i,n=this.eras(),a,o,u;for(t=t.toUpperCase(),s=0,i=n.length;s<i;++s)if(a=n[s].name.toUpperCase(),o=n[s].abbr.toUpperCase(),u=n[s].narrow.toUpperCase(),r)switch(e){case"N":case"NN":case"NNN":if(o===t)return n[s];break;case"NNNN":if(a===t)return n[s];break;case"NNNNN":if(u===t)return n[s];break}else if([a,o,u].indexOf(t)>=0)return n[s]}function so(t,e){var r=t.since<=t.until?1:-1;return e===void 0?_(t.since).year():_(t.since).year()+(e-t.offset)*r}function io(){var t,e,r,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),s[t].since<=r&&r<=s[t].until||s[t].until<=r&&r<=s[t].since)return s[t].name;return""}function no(){var t,e,r,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),s[t].since<=r&&r<=s[t].until||s[t].until<=r&&r<=s[t].since)return s[t].narrow;return""}function ao(){var t,e,r,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),s[t].since<=r&&r<=s[t].until||s[t].until<=r&&r<=s[t].since)return s[t].abbr;return""}function oo(){var t,e,r,s,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(r=i[t].since<=i[t].until?1:-1,s=this.clone().startOf("day").valueOf(),i[t].since<=s&&s<=i[t].until||i[t].until<=s&&s<=i[t].since)return(this.year()-_(i[t].since).year())*r+i[t].offset;return this.year()}function lo(t){return D(this,"_erasNameRegex")||jr.call(this),t?this._erasNameRegex:this._erasRegex}function ho(t){return D(this,"_erasAbbrRegex")||jr.call(this),t?this._erasAbbrRegex:this._erasRegex}function uo(t){return D(this,"_erasNarrowRegex")||jr.call(this),t?this._erasNarrowRegex:this._erasRegex}function Ar(t,e){return e.erasAbbrRegex(t)}function co(t,e){return e.erasNameRegex(t)}function fo(t,e){return e.erasNarrowRegex(t)}function mo(t,e){return e._eraYearOrdinalRegex||Ke}function jr(){var t=[],e=[],r=[],s=[],i,n,a=this.eras();for(i=0,n=a.length;i<n;++i)e.push(Z(a[i].name)),t.push(Z(a[i].abbr)),r.push(Z(a[i].narrow)),s.push(Z(a[i].name)),s.push(Z(a[i].abbr)),s.push(Z(a[i].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}p(0,["gg",2],0,function(){return this.weekYear()%100});p(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Wt(t,e){p(0,[t,t.length],0,e)}Wt("gggg","weekYear");Wt("ggggg","weekYear");Wt("GGGG","isoWeekYear");Wt("GGGGG","isoWeekYear");G("weekYear","gg");G("isoWeekYear","GG");V("weekYear",1);V("isoWeekYear",1);y("G",Ct);y("g",Ct);y("GG",I,K);y("gg",I,K);y("GGGG",kr,br);y("gggg",kr,br);y("GGGGG",$t,Yt);y("ggggg",$t,Yt);_t(["gggg","ggggg","GGGG","GGGGG"],function(t,e,r,s){e[s.substr(0,2)]=S(t)});_t(["gg","GG"],function(t,e,r,s){e[s]=_.parseTwoDigitYear(t)});function _o(t){return Ns.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function yo(t){return Ns.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function po(){return Se(this.year(),1,4)}function vo(){return Se(this.isoWeekYear(),1,4)}function go(){var t=this.localeData()._week;return Se(this.year(),t.dow,t.doy)}function wo(){var t=this.localeData()._week;return Se(this.weekYear(),t.dow,t.doy)}function Ns(t,e,r,s,i){var n;return t==null?lt(this,s,i).year:(n=Se(t,s,i),e>n&&(e=n),bo.call(this,t,e,r,s,i))}function bo(t,e,r,s,i){var n=ps(t,e,r,s,i),a=ot(n.year,0,n.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}p("Q",0,"Qo","quarter");G("quarter","Q");V("quarter",7);y("Q",os);R("Q",function(t,e){e[be]=(S(t)-1)*3});function ko(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}p("D",["DD",2],"Do","date");G("date","D");V("date",9);y("D",I);y("DD",I,K);y("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});R(["D","DD"],ce);R("Do",function(t,e){e[ce]=S(t.match(I)[0])});var Us=Ze("Date",!0);p("DDD",["DDDD",3],"DDDo","dayOfYear");G("dayOfYear","DDD");V("dayOfYear",4);y("DDD",It);y("DDDD",ls);R(["DDD","DDDD"],function(t,e,r){r._dayOfYear=S(t)});function So(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}p("m",["mm",2],0,"minute");G("minute","m");V("minute",14);y("m",I);y("mm",I,K);R(["m","mm"],se);var To=Ze("Minutes",!1);p("s",["ss",2],0,"second");G("second","s");V("second",15);y("s",I);y("ss",I,K);R(["s","ss"],ke);var Oo=Ze("Seconds",!1);p("S",0,0,function(){return~~(this.millisecond()/100)});p(0,["SS",2],0,function(){return~~(this.millisecond()/10)});p(0,["SSS",3],0,"millisecond");p(0,["SSSS",4],0,function(){return this.millisecond()*10});p(0,["SSSSS",5],0,function(){return this.millisecond()*100});p(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});p(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});p(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});p(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});G("millisecond","ms");V("millisecond",16);y("S",It,os);y("SS",It,K);y("SSS",It,ls);var Ee,Fs;for(Ee="SSSS";Ee.length<=9;Ee+="S")y(Ee,Ke);function Do(t,e){e[Ce]=S(("0."+t)*1e3)}for(Ee="S";Ee.length<=9;Ee+="S")R(Ee,Do);Fs=Ze("Milliseconds",!1);p("z",0,0,"zoneAbbr");p("zz",0,0,"zoneName");function xo(){return this._isUTC?"UTC":""}function Eo(){return this._isUTC?"Coordinated Universal Time":""}var f=ft.prototype;f.add=ga;f.calendar=Da;f.clone=xa;f.diff=Ya;f.endOf=Ba;f.format=Na;f.from=Ua;f.fromNow=Fa;f.to=La;f.toNow=Wa;f.get=Ei;f.invalidAt=Qa;f.isAfter=Ea;f.isBefore=Ma;f.isBetween=Ra;f.isSame=Pa;f.isSameOrAfter=Aa;f.isSameOrBefore=ja;f.isValid=Ka;f.lang=js;f.locale=As;f.localeData=Ys;f.max=Kn;f.min=Zn;f.parsingFlags=Xa;f.set=Mi;f.startOf=Ha;f.subtract=wa;f.toArray=Ja;f.toObject=qa;f.toDate=za;f.toISOString=$a;f.inspect=Ca;typeof Symbol<"u"&&Symbol.for!=null&&(f[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});f.toJSON=Za;f.toString=Ia;f.unix=Va;f.valueOf=Ga;f.creationData=eo;f.eraName=io;f.eraNarrow=no;f.eraAbbr=ao;f.eraYear=oo;f.year=ys;f.isLeapYear=Ji;f.weekYear=_o;f.isoWeekYear=yo;f.quarter=f.quarters=ko;f.month=ms;f.daysInMonth=Gi;f.week=f.weeks=en;f.isoWeek=f.isoWeeks=tn;f.weeksInYear=go;f.weeksInWeekYear=wo;f.isoWeeksInYear=po;f.isoWeeksInISOWeekYear=vo;f.date=Us;f.day=f.days=_n;f.weekday=yn;f.isoWeekday=pn;f.dayOfYear=So;f.hour=f.hours=Tn;f.minute=f.minutes=To;f.second=f.seconds=Oo;f.millisecond=f.milliseconds=Fs;f.utcOffset=aa;f.utc=la;f.local=ha;f.parseZone=ua;f.hasAlignedHourOffset=ca;f.isDST=da;f.isLocal=ma;f.isUtcOffset=_a;f.isUtc=Es;f.isUTC=Es;f.zoneAbbr=xo;f.zoneName=Eo;f.dates=ee("dates accessor is deprecated. Use date instead.",Us);f.months=ee("months accessor is deprecated. Use month instead",ms);f.years=ee("years accessor is deprecated. Use year instead",ys);f.zone=ee("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",oa);f.isDSTShifted=ee("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",fa);function Mo(t){return Y(t*1e3)}function Ro(){return Y.apply(null,arguments).parseZone()}function Ls(t){return t}var x=vr.prototype;x.calendar=mi;x.longDateFormat=vi;x.invalidDate=wi;x.ordinal=Si;x.preparse=Ls;x.postformat=Ls;x.relativeTime=Oi;x.pastFuture=Di;x.set=di;x.eras=to;x.erasParse=ro;x.erasConvertYear=so;x.erasAbbrRegex=ho;x.erasNameRegex=lo;x.erasNarrowRegex=uo;x.months=Li;x.monthsShort=Wi;x.monthsParse=Bi;x.monthsRegex=zi;x.monthsShortRegex=Vi;x.week=Zi;x.firstDayOfYear=Qi;x.firstDayOfWeek=Xi;x.weekdays=un;x.weekdaysMin=dn;x.weekdaysShort=cn;x.weekdaysParse=mn;x.weekdaysRegex=vn;x.weekdaysShortRegex=gn;x.weekdaysMinRegex=wn;x.isPM=kn;x.meridiem=On;function Mt(t,e,r,s){var i=Oe(),n=fe().set(s,e);return i[r](n,t)}function Ws(t,e,r){if(Te(t)&&(e=t,t=void 0),t=t||"",e!=null)return Mt(t,e,r,"month");var s,i=[];for(s=0;s<12;s++)i[s]=Mt(t,s,r,"month");return i}function Yr(t,e,r,s){typeof t=="boolean"?(Te(e)&&(r=e,e=void 0),e=e||""):(e=t,r=e,t=!1,Te(e)&&(r=e,e=void 0),e=e||"");var i=Oe(),n=t?i._week.dow:0,a,o=[];if(r!=null)return Mt(e,(r+n)%7,s,"day");for(a=0;a<7;a++)o[a]=Mt(e,(a+n)%7,s,"day");return o}function Po(t,e){return Ws(t,e,"months")}function Ao(t,e){return Ws(t,e,"monthsShort")}function jo(t,e,r){return Yr(t,e,r,"weekdays")}function Yo(t,e,r){return Yr(t,e,r,"weekdaysShort")}function Io(t,e,r){return Yr(t,e,r,"weekdaysMin")}Me("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,r=S(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+r}});_.lang=ee("moment.lang is deprecated. Use moment.locale instead.",Me);_.langData=ee("moment.langData is deprecated. Use moment.localeData instead.",Oe);var ve=Math.abs;function $o(){var t=this._data;return this._milliseconds=ve(this._milliseconds),this._days=ve(this._days),this._months=ve(this._months),t.milliseconds=ve(t.milliseconds),t.seconds=ve(t.seconds),t.minutes=ve(t.minutes),t.hours=ve(t.hours),t.months=ve(t.months),t.years=ve(t.years),this}function Hs(t,e,r,s){var i=oe(e,r);return t._milliseconds+=s*i._milliseconds,t._days+=s*i._days,t._months+=s*i._months,t._bubble()}function Co(t,e){return Hs(this,t,e,1)}function No(t,e){return Hs(this,t,e,-1)}function Br(t){return t<0?Math.floor(t):Math.ceil(t)}function Uo(){var t=this._milliseconds,e=this._days,r=this._months,s=this._data,i,n,a,o,u;return t>=0&&e>=0&&r>=0||t<=0&&e<=0&&r<=0||(t+=Br(cr(r)+e)*864e5,e=0,r=0),s.milliseconds=t%1e3,i=Q(t/1e3),s.seconds=i%60,n=Q(i/60),s.minutes=n%60,a=Q(n/60),s.hours=a%24,e+=Q(a/24),u=Q(Bs(e)),r+=u,e-=Br(cr(u)),o=Q(r/12),r%=12,s.days=e,s.months=r,s.years=o,this}function Bs(t){return t*4800/146097}function cr(t){return t*146097/4800}function Fo(t){if(!this.isValid())return NaN;var e,r,s=this._milliseconds;if(t=te(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+s/864e5,r=this._months+Bs(e),t){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(e=this._days+Math.round(cr(this._months)),t){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return e*24+s/36e5;case"minute":return e*1440+s/6e4;case"second":return e*86400+s/1e3;case"millisecond":return Math.floor(e*864e5)+s;default:throw new Error("Unknown unit "+t)}}function Lo(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+S(this._months/12)*31536e6:NaN}function De(t){return function(){return this.as(t)}}var Wo=De("ms"),Ho=De("s"),Bo=De("m"),Go=De("h"),Vo=De("d"),zo=De("w"),Jo=De("M"),qo=De("Q"),Zo=De("y");function Ko(){return oe(this)}function Xo(t){return t=te(t),this.isValid()?this[t+"s"]():NaN}function Fe(t){return function(){return this.isValid()?this._data[t]:NaN}}var Qo=Fe("milliseconds"),el=Fe("seconds"),tl=Fe("minutes"),rl=Fe("hours"),sl=Fe("days"),il=Fe("months"),nl=Fe("years");function al(){return Q(this.days()/7)}var we=Math.round,Ve={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ol(t,e,r,s,i){return i.relativeTime(e||1,!!r,t,s)}function ll(t,e,r,s){var i=oe(t).abs(),n=we(i.as("s")),a=we(i.as("m")),o=we(i.as("h")),u=we(i.as("d")),h=we(i.as("M")),l=we(i.as("w")),d=we(i.as("y")),w=n<=r.ss&&["s",n]||n<r.s&&["ss",n]||a<=1&&["m"]||a<r.m&&["mm",a]||o<=1&&["h"]||o<r.h&&["hh",o]||u<=1&&["d"]||u<r.d&&["dd",u];return r.w!=null&&(w=w||l<=1&&["w"]||l<r.w&&["ww",l]),w=w||h<=1&&["M"]||h<r.M&&["MM",h]||d<=1&&["y"]||["yy",d],w[2]=e,w[3]=+t>0,w[4]=s,ol.apply(null,w)}function hl(t){return t===void 0?we:typeof t=="function"?(we=t,!0):!1}function ul(t,e){return Ve[t]===void 0?!1:e===void 0?Ve[t]:(Ve[t]=e,t==="s"&&(Ve.ss=e-1),!0)}function cl(t,e){if(!this.isValid())return this.localeData().invalidDate();var r=!1,s=Ve,i,n;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(r=t),typeof e=="object"&&(s=Object.assign({},Ve,e),e.s!=null&&e.ss==null&&(s.ss=e.s-1)),i=this.localeData(),n=ll(this,!r,s,i),r&&(n=i.pastFuture(+this,n)),i.postformat(n)}var er=Math.abs;function Le(t){return(t>0)-(t<0)||+t}function Ht(){if(!this.isValid())return this.localeData().invalidDate();var t=er(this._milliseconds)/1e3,e=er(this._days),r=er(this._months),s,i,n,a,o=this.asSeconds(),u,h,l,d;return o?(s=Q(t/60),i=Q(s/60),t%=60,s%=60,n=Q(r/12),r%=12,a=t?t.toFixed(3).replace(/\.?0+$/,""):"",u=o<0?"-":"",h=Le(this._months)!==Le(o)?"-":"",l=Le(this._days)!==Le(o)?"-":"",d=Le(this._milliseconds)!==Le(o)?"-":"",u+"P"+(n?h+n+"Y":"")+(r?h+r+"M":"")+(e?l+e+"D":"")+(i||s||t?"T":"")+(i?d+i+"H":"")+(s?d+s+"M":"")+(t?d+a+"S":"")):"P0D"}var T=Lt.prototype;T.isValid=ra;T.abs=$o;T.add=Co;T.subtract=No;T.as=Fo;T.asMilliseconds=Wo;T.asSeconds=Ho;T.asMinutes=Bo;T.asHours=Go;T.asDays=Vo;T.asWeeks=zo;T.asMonths=Jo;T.asQuarters=qo;T.asYears=Zo;T.valueOf=Lo;T._bubble=Uo;T.clone=Ko;T.get=Xo;T.milliseconds=Qo;T.seconds=el;T.minutes=tl;T.hours=rl;T.days=sl;T.weeks=al;T.months=il;T.years=nl;T.humanize=cl;T.toISOString=Ht;T.toString=Ht;T.toJSON=Ht;T.locale=As;T.localeData=Ys;T.toIsoString=ee("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ht);T.lang=js;p("X",0,0,"unix");p("x",0,0,"valueOf");y("x",Ct);y("X",Pi);R("X",function(t,e,r){r._d=new Date(parseFloat(t)*1e3)});R("x",function(t,e,r){r._d=new Date(S(t))});//! moment.js
_.version="2.29.4";ui(Y);_.fn=f;_.min=Xn;_.max=Qn;_.now=ea;_.utc=fe;_.unix=Mo;_.months=Po;_.isDate=dt;_.locale=Me;_.invalid=At;_.duration=oe;_.isMoment=ae;_.weekdays=jo;_.parseZone=Ro;_.localeData=Oe;_.isDuration=kt;_.monthsShort=Ao;_.weekdaysMin=Io;_.defineLocale=Dr;_.updateLocale=Mn;_.locales=Rn;_.weekdaysShort=Yo;_.normalizeUnits=te;_.relativeTimeRounding=hl;_.relativeTimeThreshold=ul;_.calendarFormat=Oa;_.prototype=f;_.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const dl=oi("tasks",{state:()=>({loadedSupa:!1,tasks:[],tasksF:[],tasksTime:[],discarded:!1,completed:!1}),actions:{init(t){this.tasks=[...t],this.tasksF={discarded:[],completed:[],active:[]},this.tasksTime=[],this.loadedSupa=!0,[...t].map(e=>{e.discarded?this.tasksF.discarded.push(e):e.completed?this.tasksF.completed.push(e):this.tasksF.active.push(e)}),this.tasksF.discarded.length>0&&(this.discarded=!0),this.tasksF.completed.length>0&&(this.completed=!0),this.tasksTime=[...this.tasksF.active].filter(e=>e.max_time!=null).sort((e,r)=>e.max_time>r.max_time?1:-1),this.tasksTime.forEach(e=>{e.max_time_format=_(e.max_time).format("D-M-Y HH:mm:ss")})},getTasks(){return this.tasks},getTask(t){return this.tasks.filter(r=>r.id==t)[0]},deleteTasks(){this.tasks=[],this.tasksF=[],this.tasksTime=[],this.loadedSupa=!1,this.completed=!1,this.discarded=!1},deleteTask(t){const e=this.tasks.map(r=>r.id).indexOf(t);console.log(e),this.tasks.splice(e,1),this.init(this.getTasks())},discardTask(t){this.tasks.map(e=>{e.id==t&&(e.discarded=!0)}),this.init(this.getTasks())},completeTask(t){this.tasks.map(e=>{e.id==t&&(e.completed=!0)}),this.init(this.getTasks())},newTask(t){console.log("pushing",t),this.tasks.push(t),this.init(this.getTasks())}},persist:{enabled:!0,strategies:[{key:"tasks",storage:localStorage}]}});var fl=globalThis&&globalThis.__awaiter||function(t,e,r,s){function i(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(l){try{h(s.next(l))}catch(d){a(d)}}function u(l){try{h(s.throw(l))}catch(d){a(d)}}function h(l){l.done?n(l.value):i(l.value).then(o,u)}h((s=s.apply(t,e||[])).next())})};const ml=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>fl(void 0,void 0,void 0,function*(){return yield(yield Pt(()=>Promise.resolve().then(()=>Bt),void 0)).fetch(...r)}):e=fetch,(...r)=>e(...r)};class Ir extends Error{constructor(e,r="FunctionsError",s){super(e),super.name=r,this.context=s}}class _l extends Ir{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class yl extends Ir{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class pl extends Ir{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var vl=globalThis&&globalThis.__awaiter||function(t,e,r,s){function i(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(l){try{h(s.next(l))}catch(d){a(d)}}function u(l){try{h(s.throw(l))}catch(d){a(d)}}function h(l){l.done?n(l.value):i(l.value).then(o,u)}h((s=s.apply(t,e||[])).next())})};class gl{constructor(e,{headers:r={},customFetch:s}={}){this.url=e,this.headers=r,this.fetch=ml(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var s;return vl(this,void 0,void 0,function*(){try{const{headers:i,body:n}=r;let a={},o;n&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&n instanceof Blob||n instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",o=n):typeof n=="string"?(a["Content-Type"]="text/plain",o=n):typeof FormData<"u"&&n instanceof FormData?o=n:(a["Content-Type"]="application/json",o=JSON.stringify(n)));const u=yield this.fetch(`${this.url}/${e}`,{method:"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:o}).catch(w=>{throw new _l(w)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new yl(u);if(!u.ok)throw new pl(u);let l=((s=u.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),d;return l==="application/json"?d=yield u.json():l==="application/octet-stream"?d=yield u.blob():l==="multipart/form-data"?d=yield u.formData():d=yield u.text(),{data:d,error:null}}catch(i){return{data:null,error:i}}})}}var wl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ut={exports:{}};(function(t,e){var r=typeof self<"u"?self:wl,s=function(){function n(){this.fetch=!1,this.DOMException=r.DOMException}return n.prototype=r,new n}();(function(n){(function(a){var o={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function u(c){return c&&DataView.prototype.isPrototypeOf(c)}if(o.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(c){return c&&h.indexOf(Object.prototype.toString.call(c))>-1};function d(c){if(typeof c!="string"&&(c=String(c)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(c))throw new TypeError("Invalid character in header field name");return c.toLowerCase()}function w(c){return typeof c!="string"&&(c=String(c)),c}function O(c){var m={next:function(){var k=c.shift();return{done:k===void 0,value:k}}};return o.iterable&&(m[Symbol.iterator]=function(){return m}),m}function v(c){this.map={},c instanceof v?c.forEach(function(m,k){this.append(k,m)},this):Array.isArray(c)?c.forEach(function(m){this.append(m[0],m[1])},this):c&&Object.getOwnPropertyNames(c).forEach(function(m){this.append(m,c[m])},this)}v.prototype.append=function(c,m){c=d(c),m=w(m);var k=this.map[c];this.map[c]=k?k+", "+m:m},v.prototype.delete=function(c){delete this.map[d(c)]},v.prototype.get=function(c){return c=d(c),this.has(c)?this.map[c]:null},v.prototype.has=function(c){return this.map.hasOwnProperty(d(c))},v.prototype.set=function(c,m){this.map[d(c)]=w(m)},v.prototype.forEach=function(c,m){for(var k in this.map)this.map.hasOwnProperty(k)&&c.call(m,this.map[k],k,this)},v.prototype.keys=function(){var c=[];return this.forEach(function(m,k){c.push(k)}),O(c)},v.prototype.values=function(){var c=[];return this.forEach(function(m){c.push(m)}),O(c)},v.prototype.entries=function(){var c=[];return this.forEach(function(m,k){c.push([k,m])}),O(c)},o.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function E(c){if(c.bodyUsed)return Promise.reject(new TypeError("Already read"));c.bodyUsed=!0}function b(c){return new Promise(function(m,k){c.onload=function(){m(c.result)},c.onerror=function(){k(c.error)}})}function F(c){var m=new FileReader,k=b(m);return m.readAsArrayBuffer(c),k}function ye(c){var m=new FileReader,k=b(m);return m.readAsText(c),k}function pe(c){for(var m=new Uint8Array(c),k=new Array(m.length),H=0;H<m.length;H++)k[H]=String.fromCharCode(m[H]);return k.join("")}function W(c){if(c.slice)return c.slice(0);var m=new Uint8Array(c.byteLength);return m.set(new Uint8Array(c)),m.buffer}function Re(){return this.bodyUsed=!1,this._initBody=function(c){this._bodyInit=c,c?typeof c=="string"?this._bodyText=c:o.blob&&Blob.prototype.isPrototypeOf(c)?this._bodyBlob=c:o.formData&&FormData.prototype.isPrototypeOf(c)?this._bodyFormData=c:o.searchParams&&URLSearchParams.prototype.isPrototypeOf(c)?this._bodyText=c.toString():o.arrayBuffer&&o.blob&&u(c)?(this._bodyArrayBuffer=W(c.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(c)||l(c))?this._bodyArrayBuffer=W(c):this._bodyText=c=Object.prototype.toString.call(c):this._bodyText="",this.headers.get("content-type")||(typeof c=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(c)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o.blob&&(this.blob=function(){var c=E(this);if(c)return c;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?E(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(F)}),this.text=function(){var c=E(this);if(c)return c;if(this._bodyBlob)return ye(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(pe(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(ii)}),this.json=function(){return this.text().then(JSON.parse)},this}var ri=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function si(c){var m=c.toUpperCase();return ri.indexOf(m)>-1?m:c}function Pe(c,m){m=m||{};var k=m.body;if(c instanceof Pe){if(c.bodyUsed)throw new TypeError("Already read");this.url=c.url,this.credentials=c.credentials,m.headers||(this.headers=new v(c.headers)),this.method=c.method,this.mode=c.mode,this.signal=c.signal,!k&&c._bodyInit!=null&&(k=c._bodyInit,c.bodyUsed=!0)}else this.url=String(c);if(this.credentials=m.credentials||this.credentials||"same-origin",(m.headers||!this.headers)&&(this.headers=new v(m.headers)),this.method=si(m.method||this.method||"GET"),this.mode=m.mode||this.mode||null,this.signal=m.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&k)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(k)}Pe.prototype.clone=function(){return new Pe(this,{body:this._bodyInit})};function ii(c){var m=new FormData;return c.trim().split("&").forEach(function(k){if(k){var H=k.split("="),L=H.shift().replace(/\+/g," "),P=H.join("=").replace(/\+/g," ");m.append(decodeURIComponent(L),decodeURIComponent(P))}}),m}function ni(c){var m=new v,k=c.replace(/\r?\n[\t ]+/g," ");return k.split(/\r?\n/).forEach(function(H){var L=H.split(":"),P=L.shift().trim();if(P){var yt=L.join(":").trim();m.append(P,yt)}}),m}Re.call(Pe.prototype);function le(c,m){m||(m={}),this.type="default",this.status=m.status===void 0?200:m.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in m?m.statusText:"OK",this.headers=new v(m.headers),this.url=m.url||"",this._initBody(c)}Re.call(le.prototype),le.prototype.clone=function(){return new le(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},le.error=function(){var c=new le(null,{status:0,statusText:""});return c.type="error",c};var ai=[301,302,303,307,308];le.redirect=function(c,m){if(ai.indexOf(m)===-1)throw new RangeError("Invalid status code");return new le(null,{status:m,headers:{location:c}})},a.DOMException=n.DOMException;try{new a.DOMException}catch{a.DOMException=function(m,k){this.message=m,this.name=k;var H=Error(m);this.stack=H.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function qt(c,m){return new Promise(function(k,H){var L=new Pe(c,m);if(L.signal&&L.signal.aborted)return H(new a.DOMException("Aborted","AbortError"));var P=new XMLHttpRequest;function yt(){P.abort()}P.onload=function(){var Qe={status:P.status,statusText:P.statusText,headers:ni(P.getAllResponseHeaders()||"")};Qe.url="responseURL"in P?P.responseURL:Qe.headers.get("X-Request-URL");var Zt="response"in P?P.response:P.responseText;k(new le(Zt,Qe))},P.onerror=function(){H(new TypeError("Network request failed"))},P.ontimeout=function(){H(new TypeError("Network request failed"))},P.onabort=function(){H(new a.DOMException("Aborted","AbortError"))},P.open(L.method,L.url,!0),L.credentials==="include"?P.withCredentials=!0:L.credentials==="omit"&&(P.withCredentials=!1),"responseType"in P&&o.blob&&(P.responseType="blob"),L.headers.forEach(function(Qe,Zt){P.setRequestHeader(Zt,Qe)}),L.signal&&(L.signal.addEventListener("abort",yt),P.onreadystatechange=function(){P.readyState===4&&L.signal.removeEventListener("abort",yt)}),P.send(typeof L._bodyInit>"u"?null:L._bodyInit)})}return qt.polyfill=!0,n.fetch||(n.fetch=qt,n.Headers=v,n.Request=Pe,n.Response=le),a.Headers=v,a.Request=Pe,a.Response=le,a.fetch=qt,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(s),s.fetch.ponyfill=!0,delete s.fetch.polyfill;var i=s;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(ut,ut.exports);const $r=bl(ut.exports),Bt=hi({__proto__:null,default:$r},[ut.exports]);var kl=globalThis&&globalThis.__awaiter||function(t,e,r,s){function i(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(l){try{h(s.next(l))}catch(d){a(d)}}function u(l){try{h(s.throw(l))}catch(d){a(d)}}function h(l){l.done?n(l.value):i(l.value).then(o,u)}h((s=s.apply(t,e||[])).next())})};class Sl{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.allowEmpty=e.allowEmpty,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=$r:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let i=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(n=>kl(this,void 0,void 0,function*(){var a,o,u;let h=null,l=null,d=null,w=n.status,O=n.statusText;if(n.ok){if(this.method!=="HEAD"){const F=yield n.text();F===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?l=F:l=JSON.parse(F))}const E=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(o=n.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");E&&b&&b.length>1&&(d=parseInt(b[1]))}else{const E=yield n.text();try{h=JSON.parse(E)}catch{h={message:E}}if(h&&this.allowEmpty&&((u=h==null?void 0:h.details)===null||u===void 0?void 0:u.includes("Results contain 0 rows"))&&(h=null,w=200,O="OK"),h&&this.shouldThrowOnError)throw h}return{error:h,data:l,count:d,status:w,statusText:O}}));return this.shouldThrowOnError||(i=i.catch(n=>({error:{message:`FetchError: ${n.message}`,details:"",hint:"",code:n.code||""},data:null,count:null,status:0,statusText:""}))),i.then(e,r)}}class Tl extends Sl{select(e){let r=!1;const s=(e!=null?e:"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:s,foreignTable:i}={}){const n=i?`${i}.order`:"order",a=this.url.searchParams.get(n);return this.url.searchParams.set(n,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:s}={}){const i=typeof s>"u"?"offset":`${s}.offset`,n=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(n,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:s=!1,buffers:i=!1,wal:n=!1,format:a="text"}={}){const o=[e?"analyze":null,r?"verbose":null,s?"settings":null,i?"buffers":null,n?"wal":null].filter(Boolean).join("|"),u=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${o};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Ge extends Tl{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const s=r.map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:s,type:i}={}){let n="";i==="plain"?n="pl":i==="phrase"?n="ph":i==="websearch"&&(n="w");const a=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${n}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(e,r,s){return this.url.searchParams.append(e,`not.${r}.${s}`),this}or(e,{foreignTable:r}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,s){return this.url.searchParams.append(e,`${r}.${s}`),this}}class Ol{constructor(e,{headers:r={},schema:s,fetch:i}){this.url=e,this.headers=r,this.schema=s,this.fetch=i}select(e,{head:r=!1,count:s}={}){const i=r?"HEAD":"GET";let n=!1;const a=(e!=null?e:"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",a),s&&(this.headers.Prefer=`count=${s}`),new Ge({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r}={}){const s="POST",i=[],n=e;if(r&&i.push(`count=${r}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(a.length>0){const o=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",o.join(","))}}return new Ge({method:s,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:s=!1,count:i}={}){const n="POST",a=[`resolution=${s?"ignore":"merge"}-duplicates`];r!==void 0&&this.url.searchParams.set("on_conflict",r);const o=e;return i&&a.push(`count=${i}`),this.headers.Prefer&&a.unshift(this.headers.Prefer),this.headers.Prefer=a.join(","),new Ge({method:n,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const s="PATCH",i=[],n=e;return r&&i.push(`count=${r}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new Ge({method:s,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",s=[];return e&&s.push(`count=${e}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Ge({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const Dl="1.1.0",xl={"X-Client-Info":`postgrest-js/${Dl}`};class El{constructor(e,{headers:r={},schema:s,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},xl),r),this.schema=s,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new Ol(r,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(e,r={},{head:s=!1,count:i}={}){let n;const a=new URL(`${this.url}/rpc/${e}`);let o;s?(n="HEAD",Object.entries(r).forEach(([h,l])=>{a.searchParams.append(h,`${l}`)})):(n="POST",o=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Ge({method:n,url:a,headers:u,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}}var tr,Gr;function Ml(){if(Gr)return tr;Gr=1;var t=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return tr=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}(),tr}const Rl="websocket",Pl="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",Al=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],jl="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",Yl=["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],Il="1.0.34",$l={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},Cl="https://github.com/theturtle32/WebSocket-Node",Nl={node:">=4.0.0"},Ul={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},Fl={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},Ll={verbose:!1},Wl={test:"tape test/unit/*.js",gulp:"gulp"},Hl="index",Bl={lib:"./lib"},Gl="lib/browser.js",Vl="Apache-2.0",zl={name:Rl,description:Pl,keywords:Al,author:jl,contributors:Yl,version:Il,repository:$l,homepage:Cl,engines:Nl,dependencies:Ul,devDependencies:Fl,config:Ll,scripts:Wl,main:Hl,directories:Bl,browser:Gl,license:Vl};var Jl=zl.version,je;if(typeof globalThis=="object")je=globalThis;else try{je=Ml()}catch{}finally{if(!je&&typeof window<"u"&&(je=window),!je)throw new Error("Could not determine global this")}var ct=je.WebSocket||je.MozWebSocket,ql=Jl;function Gs(t,e){var r;return e?r=new ct(t,e):r=new ct(t),r}ct&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(t){Object.defineProperty(Gs,t,{get:function(){return ct[t]}})});var Zl={w3cwebsocket:ct?Gs:null,version:ql};const Kl="2.1.0",Xl={"X-Client-Info":`realtime-js/${Kl}`},Ql="1.0.0",Vs=1e4,eh=1e3;var nt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(nt||(nt={}));var q;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(q||(q={}));var re;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(re||(re={}));var dr;(function(t){t.websocket="websocket"})(dr||(dr={}));var Ye;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ye||(Ye={}));class zs{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class th{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,r,s)}_decodeBroadcast(e,r,s){const i=r.getUint8(1),n=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=s.decode(e.slice(a,a+i));a=a+i;const u=s.decode(e.slice(a,a+n));a=a+n;const h=JSON.parse(s.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:u,payload:h}}}class rr{constructor(e,r,s={},i=Vs){this.channel=e,this.event=r,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})==="rate limited"&&(this.rateLimited=!0)}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Vr;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Vr||(Vr={}));class at{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:n,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=at.syncState(this.state,i,n,a),this.pendingDiffs.forEach(u=>{this.state=at.syncDiff(this.state,u,n,a)}),this.pendingDiffs=[],o()}),this.channel._on(s.diff,{},i=>{const{onJoin:n,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=at.syncDiff(this.state,i,n,a),o())}),this.onJoin((i,n,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:n,newPresences:a})}),this.onLeave((i,n,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:n,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,i){const n=this.cloneDeep(e),a=this.transformState(r),o={},u={};return this.map(n,(h,l)=>{a[h]||(u[h]=l)}),this.map(a,(h,l)=>{const d=n[h];if(d){const w=l.map(b=>b.presence_ref),O=d.map(b=>b.presence_ref),v=l.filter(b=>O.indexOf(b.presence_ref)<0),E=d.filter(b=>w.indexOf(b.presence_ref)<0);v.length>0&&(o[h]=v),E.length>0&&(u[h]=E)}else o[h]=l}),this.syncDiff(n,{joins:o,leaves:u},s,i)}static syncDiff(e,r,s,i){const{joins:n,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(n,(o,u)=>{var h;const l=(h=e[o])!==null&&h!==void 0?h:[];if(e[o]=this.cloneDeep(u),l.length>0){const d=e[o].map(O=>O.presence_ref),w=l.filter(O=>d.indexOf(O.presence_ref)<0);e[o].unshift(...w)}s(o,l,u)}),this.map(a,(o,u)=>{let h=e[o];if(!h)return;const l=u.map(d=>d.presence_ref);h=h.filter(d=>l.indexOf(d.presence_ref)<0),e[o]=h,i(o,h,u),h.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const i=e[s];return"metas"in i?r[s]=i.metas.map(n=>(n.presence_ref=n.phx_ref,delete n.phx_ref,delete n.phx_ref_prev,n)):r[s]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var A;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(A||(A={}));const zr=(t,e,r={})=>{var s;const i=(s=r.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((n,a)=>(n[a]=rh(a,t,e,i),n),{})},rh=(t,e,r,s)=>{const i=e.find(o=>o.name===t),n=i==null?void 0:i.type,a=r[t];return n&&!s.includes(n)?Js(n,a):fr(a)},Js=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return ah(e,r)}switch(t){case A.bool:return sh(e);case A.float4:case A.float8:case A.int2:case A.int4:case A.int8:case A.numeric:case A.oid:return ih(e);case A.json:case A.jsonb:return nh(e);case A.timestamp:return oh(e);case A.abstime:case A.date:case A.daterange:case A.int4range:case A.int8range:case A.money:case A.reltime:case A.text:case A.time:case A.timestamptz:case A.timetz:case A.tsrange:case A.tstzrange:return fr(e);default:return fr(e)}},fr=t=>t,sh=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ih=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},nh=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ah=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let n;const a=t.slice(1,r);try{n=JSON.parse("["+a+"]")}catch{n=a?a.split(","):[]}return n.map(o=>Js(e,o))}return t},oh=t=>typeof t=="string"?t.replace(" ","T"):t;var Jr=globalThis&&globalThis.__awaiter||function(t,e,r,s){function i(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(l){try{h(s.next(l))}catch(d){a(d)}}function u(l){try{h(s.throw(l))}catch(d){a(d)}}function h(l){l.done?n(l.value):i(l.value).then(o,u)}h((s=s.apply(t,e||[])).next())})},qr;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(qr||(qr={}));var Zr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"})(Zr||(Zr={}));var Kr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Kr||(Kr={}));class Cr{constructor(e,r={config:{}},s){this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=q.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},r.config),this.timeout=this.socket.timeout,this.joinPush=new rr(this,re.join,this.params,this.timeout),this.rejoinTimer=new zs(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=q.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=q.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=q.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this._isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=q.errored,this.rejoinTimer.scheduleTimeout())}),this._on(re.reply,{},(i,n)=>{this._trigger(this._replyEventName(n),i)}),this.presence=new at(this)}subscribe(e,r=this.timeout){var s,i;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:n,presence:a}}=this.params;this._onError(h=>e&&e("CHANNEL_ERROR",h)),this._onClose(()=>e&&e("CLOSED"));const o={},u={broadcast:n,presence:a,postgres_changes:(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(h=>h.filter))!==null&&i!==void 0?i:[]};this.socket.accessToken&&(o.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},o)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",({postgres_changes:h})=>{var l;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),h===void 0){e&&e("SUBSCRIBED");return}else{const d=this.bindings.postgres_changes,w=(l=d==null?void 0:d.length)!==null&&l!==void 0?l:0,O=[];for(let v=0;v<w;v++){const E=d[v],{filter:{event:b,schema:F,table:ye,filter:pe}}=E,W=h&&h[v];if(W&&W.event===b&&W.schema===F&&W.table===ye&&W.filter===pe)O.push(Object.assign(Object.assign({},E),{id:W.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,e&&e("SUBSCRIBED");return}}).receive("error",h=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(e,r={}){return Jr(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)})}untrack(e={}){return Jr(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,r,s){return this._on(e,r,s)}send(e,r={}){return new Promise(s=>{var i,n,a;const o=this._push(e.type,e,r.timeout||this.timeout);o.rateLimited&&s("rate limited"),e.type==="broadcast"&&!(!((a=(n=(i=this.params)===null||i===void 0?void 0:i.config)===null||n===void 0?void 0:n.broadcast)===null||a===void 0)&&a.ack)&&s("ok"),o.receive("ok",()=>s("ok")),o.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=q.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(re.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const i=new rr(this,re.leave,{},e);i.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new rr(this,e,r,s);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var i,n;const a=e.toLocaleLowerCase(),{close:o,error:u,leave:h,join:l}=re;if(s&&[o,u,h,l].indexOf(a)>=0&&s!==this._joinRef())return;let w=this._onMessage(a,r,s);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(O=>{var v,E,b;return((v=O.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(E=O.filter)===null||E===void 0?void 0:E.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(O=>O.callback(w,s)):(n=this.bindings[a])===null||n===void 0||n.filter(O=>{var v,E,b,F,ye,pe;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in O){const W=O.id,Re=(v=O.filter)===null||v===void 0?void 0:v.event;return W&&((E=r.ids)===null||E===void 0?void 0:E.includes(W))&&(Re==="*"||(Re==null?void 0:Re.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const W=(ye=(F=O==null?void 0:O.filter)===null||F===void 0?void 0:F.event)===null||ye===void 0?void 0:ye.toLocaleLowerCase();return W==="*"||W===((pe=r==null?void 0:r.event)===null||pe===void 0?void 0:pe.toLocaleLowerCase())}else return O.type.toLocaleLowerCase()===a}).map(O=>{if(typeof w=="object"&&"ids"in w){const v=w.data,{schema:E,table:b,commit_timestamp:F,type:ye,errors:pe}=v;w=Object.assign(Object.assign({},{schema:E,table:b,commit_timestamp:F,eventType:ye,new:{},old:{},errors:pe}),this._getPayloadRecords(v))}O.callback(w,s)})}_isClosed(){return this.state===q.closed}_isJoined(){return this.state===q.joined}_isJoining(){return this.state===q.joining}_isLeaving(){return this.state===q.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const i=e.toLocaleLowerCase(),n={type:i,filter:r,callback:s};return this.bindings[i]?this.bindings[i].push(n):this.bindings[i]=[n],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(i=>{var n;return!(((n=i.type)===null||n===void 0?void 0:n.toLocaleLowerCase())===s&&Cr.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(re.close,{},e)}_onError(e){this._on(re.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=q.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=zr(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=zr(e.columns,e.old_record)),r}}var lh=globalThis&&globalThis.__awaiter||function(t,e,r,s){function i(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(l){try{h(s.next(l))}catch(d){a(d)}}function u(l){try{h(s.throw(l))}catch(d){a(d)}}function h(l){l.done?n(l.value):i(l.value).then(o,u)}h((s=s.apply(t,e||[])).next())})};const hh=()=>{};class uh{constructor(e,r){var s;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=Xl,this.params={},this.timeout=Vs,this.transport=Zl.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=hh,this.conn=null,this.sendBuffer=[],this.serializer=new th,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${e}/${dr.websocket}`,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.transport&&(this.transport=r.transport),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(s=r==null?void 0:r.params)===null||s===void 0?void 0:s.eventsPerSecond;i&&(this.eventsPerSecondLimitMs=Math.floor(1e3/i)),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:n=>[1e3,2e3,5e3,1e4][n-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(n,a)=>a(JSON.stringify(n)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new zs(()=>lh(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r!=null?r:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return e.unsubscribe().then(r=>(this.channels.length===0&&this.disconnect(),r))}removeAllChannels(){return Promise.all(this.channels.map(e=>e.unsubscribe())).then(e=>(this.disconnect(),e))}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case nt.connecting:return Ye.Connecting;case nt.open:return Ye.Open;case nt.closing:return Ye.Closing;default:return Ye.Closed}}isConnected(){return this.connectionState()===Ye.Open}channel(e,r={config:{}}){this.isConnected()||this.connect();const s=new Cr(`realtime:${e}`,r,this);return this.channels.push(s),s}push(e){const{topic:r,event:s,payload:i,ref:n}=e;let a=()=>{this.encode(e,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};if(this.log("push",`${r} ${s} (${n})`,i),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(s)){if(this._throttle(a)())return"rate limited"}else a();else this.sendBuffer.push(a)}setAuth(e){this.accessToken=e,this.channels.forEach(r=>{e&&r.updateJoinPayload({access_token:e}),r.joinedOnce&&r._isJoined()&&r._push(re.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ql}))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:s,event:i,payload:n,ref:a}=r;(a&&a===this.pendingHeartbeatRef||i===(n==null?void 0:n.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${s} ${i} ${a&&"("+a+")"||""}`,n),this.channels.filter(o=>o._isMember(s)).forEach(o=>o._trigger(i,n,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(re.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${s}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(eh,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(e,r=this.eventsPerSecondLimitMs){return()=>this.inThrottle?!0:(e(),this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},r),!1)}}class qs extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function J(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ch extends qs{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class dh extends qs{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Zs=globalThis&&globalThis.__awaiter||function(t,e,r,s){function i(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(l){try{h(s.next(l))}catch(d){a(d)}}function u(l){try{h(s.throw(l))}catch(d){a(d)}}function h(l){l.done?n(l.value):i(l.value).then(o,u)}h((s=s.apply(t,e||[])).next())})};const Ks=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Zs(void 0,void 0,void 0,function*(){return yield(yield Pt(()=>Promise.resolve().then(()=>Bt),void 0)).fetch(...r)}):e=fetch,(...r)=>e(...r)},fh=()=>Zs(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Pt(()=>Promise.resolve().then(()=>Bt),void 0)).Response:Response});var Xe=globalThis&&globalThis.__awaiter||function(t,e,r,s){function i(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(l){try{h(s.next(l))}catch(d){a(d)}}function u(l){try{h(s.throw(l))}catch(d){a(d)}}function h(l){l.done?n(l.value):i(l.value).then(o,u)}h((s=s.apply(t,e||[])).next())})};const Xr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),mh=(t,e)=>Xe(void 0,void 0,void 0,function*(){const r=yield fh();t instanceof r?t.json().then(s=>{e(new ch(Xr(s),t.status||500))}):e(new dh(Xr(t),t))}),_h=(t,e,r,s)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),r))};function Gt(t,e,r,s,i,n){return Xe(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,_h(e,s,i,n)).then(u=>{if(!u.ok)throw u;return s!=null&&s.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>mh(u,o))})})}function mr(t,e,r,s){return Xe(this,void 0,void 0,function*(){return Gt(t,"GET",e,r,s)})}function Ie(t,e,r,s,i){return Xe(this,void 0,void 0,function*(){return Gt(t,"POST",e,s,i,r)})}function yh(t,e,r,s,i){return Xe(this,void 0,void 0,function*(){return Gt(t,"PUT",e,s,i,r)})}function Xs(t,e,r,s,i){return Xe(this,void 0,void 0,function*(){return Gt(t,"DELETE",e,s,i,r)})}var he=globalThis&&globalThis.__awaiter||function(t,e,r,s){function i(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(l){try{h(s.next(l))}catch(d){a(d)}}function u(l){try{h(s.throw(l))}catch(d){a(d)}}function h(l){l.done?n(l.value):i(l.value).then(o,u)}h((s=s.apply(t,e||[])).next())})};const ph={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gh{constructor(e,r={},s,i){this.url=e,this.headers=r,this.bucketId=s,this.fetch=Ks(i)}uploadOrUpdate(e,r,s,i){return he(this,void 0,void 0,function*(){try{let n;const a=Object.assign(Object.assign({},vh),i),o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});typeof Blob<"u"&&s instanceof Blob?(n=new FormData,n.append("cacheControl",a.cacheControl),n.append("",s)):typeof FormData<"u"&&s instanceof FormData?(n=s,n.append("cacheControl",a.cacheControl)):(n=s,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType);const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),l=yield this.fetch(`${this.url}/object/${h}`,{method:e,body:n,headers:o});return l.ok?{data:{path:u},error:null}:{data:null,error:yield l.json()}}catch(n){if(J(n))return{data:null,error:n};throw n}})}upload(e,r,s){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}update(e,r,s){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r){return he(this,void 0,void 0,function*(){try{return{data:yield Ie(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r},{headers:this.headers}),error:null}}catch(s){if(J(s))return{data:null,error:s};throw s}})}copy(e,r){return he(this,void 0,void 0,function*(){try{return{data:{path:(yield Ie(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r},{headers:this.headers})).Key},error:null}}catch(s){if(J(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,s){return he(this,void 0,void 0,function*(){try{const i=this._getFinalPath(e);let n=yield Ie(this.fetch,`${this.url}/object/sign/${i}`,{expiresIn:r},{headers:this.headers});const a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return n={signedUrl:encodeURI(`${this.url}${n.signedURL}${a}`)},{data:n,error:null}}catch(i){if(J(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,s){return he(this,void 0,void 0,function*(){try{const i=yield Ie(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),n=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${n}`):null})),error:null}}catch(i){if(J(i))return{data:null,error:i};throw i}})}download(e){return he(this,void 0,void 0,function*(){try{const r=this._getFinalPath(e);return{data:yield(yield mr(this.fetch,`${this.url}/object/${r}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}})}getPublicUrl(e,r){const s=this._getFinalPath(e),i=r!=null&&r.download?`?download=${r.download===!0?"":r.download}`:"";return{data:{publicUrl:encodeURI(`${this.url}/object/public/${s}${i}`)}}}remove(e){return he(this,void 0,void 0,function*(){try{return{data:yield Xs(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}})}list(e,r,s){return he(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},ph),r),{prefix:e||""});return{data:yield Ie(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(J(i))return{data:null,error:i};throw i}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}const wh="2.0.0",bh={"X-Client-Info":`storage-js/${wh}`};var We=globalThis&&globalThis.__awaiter||function(t,e,r,s){function i(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(l){try{h(s.next(l))}catch(d){a(d)}}function u(l){try{h(s.throw(l))}catch(d){a(d)}}function h(l){l.done?n(l.value):i(l.value).then(o,u)}h((s=s.apply(t,e||[])).next())})};class kh{constructor(e,r={},s){this.url=e,this.headers=Object.assign(Object.assign({},bh),r),this.fetch=Ks(s)}listBuckets(){return We(this,void 0,void 0,function*(){try{return{data:yield mr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(J(e))return{data:null,error:e};throw e}})}getBucket(e){return We(this,void 0,void 0,function*(){try{return{data:yield mr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return We(this,void 0,void 0,function*(){try{return{data:yield Ie(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public},{headers:this.headers}),error:null}}catch(s){if(J(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return We(this,void 0,void 0,function*(){try{return{data:yield yh(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public},{headers:this.headers}),error:null}}catch(s){if(J(s))return{data:null,error:s};throw s}})}emptyBucket(e){return We(this,void 0,void 0,function*(){try{return{data:yield Ie(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}})}deleteBucket(e){return We(this,void 0,void 0,function*(){try{return{data:yield Xs(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}})}}class Sh extends kh{constructor(e,r={},s){super(e,r,s)}from(e){return new gh(this.url,this.headers,e,this.fetch)}}const Th="2.0.4",Oh={"X-Client-Info":`supabase-js/${Th}`};var Dh=globalThis&&globalThis.__awaiter||function(t,e,r,s){function i(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(l){try{h(s.next(l))}catch(d){a(d)}}function u(l){try{h(s.throw(l))}catch(d){a(d)}}function h(l){l.done?n(l.value):i(l.value).then(o,u)}h((s=s.apply(t,e||[])).next())})};const xh=t=>{let e;return t?e=t:typeof fetch>"u"?e=$r:e=fetch,(...r)=>e(...r)},Eh=()=>typeof Headers>"u"?ut.exports.Headers:Headers,Mh=(t,e,r)=>{const s=xh(r),i=Eh();return(n,a)=>Dh(void 0,void 0,void 0,function*(){var o;const u=(o=yield e())!==null&&o!==void 0?o:t;let h=new i(a==null?void 0:a.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${u}`),s(n,Object.assign(Object.assign({},a),{headers:h}))})};function Rh(t){return t.replace(/\/$/,"")}function Ph(t,e){const{db:r,auth:s,realtime:i,global:n}=t,{db:a,auth:o,realtime:u,global:h}=e;return{db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},o),s),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign({},h),n)}}var Vt=globalThis&&globalThis.__awaiter||function(t,e,r,s){function i(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(l){try{h(s.next(l))}catch(d){a(d)}}function u(l){try{h(s.throw(l))}catch(d){a(d)}}function h(l){l.done?n(l.value):i(l.value).then(o,u)}h((s=s.apply(t,e||[])).next())})};function Ah(t){return Math.round(Date.now()/1e3)+t}function jh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ne=()=>typeof window<"u";function X(t,e){var r;e||(e=((r=window==null?void 0:window.location)===null||r===void 0?void 0:r.href)||""),t=t.replace(/[\[\]]/g,"\\$&");const s=new RegExp("[?&#]"+t+"(=([^&#]*)|&|#|$)"),i=s.exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}const Qs=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Vt(void 0,void 0,void 0,function*(){return yield(yield Pt(()=>Promise.resolve().then(()=>Bt),void 0)).fetch(...r)}):e=fetch,(...r)=>e(...r)},Yh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ih=(t,e,r)=>Vt(void 0,void 0,void 0,function*(){yield t.setItem(e,JSON.stringify(r))}),Qr=(t,e)=>Vt(void 0,void 0,void 0,function*(){const r=yield t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}}),$h=(t,e)=>Vt(void 0,void 0,void 0,function*(){yield t.removeItem(e)}),Ch=t=>{try{return atob(t.replace(/[-]/g,"+").replace(/[_]/g,"/"))}catch(e){if(e instanceof ReferenceError)return Buffer.from(t,"base64").toString("utf-8");throw e}};class zt{constructor(){this.promise=new zt.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}zt.promiseConstructor=Promise;function Nh(t){const e=t.split(".");if(e.length!==3)throw new Error("JWT is not valid: not a JWT structure");const r=e[1];return JSON.parse(Ch(r))}class Nr extends Error{constructor(e){super(e),this.__isAuthError=!0,this.name="AuthError"}}function C(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Uh extends Nr{constructor(e,r){super(e),this.name="AuthApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ei extends Nr{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Jt extends Nr{constructor(e,r,s){super(e),this.name=r,this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class rt extends Jt{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class sr extends Jt{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class ge extends Jt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Rt extends Jt{constructor(e,r){super(e,"AuthRetryableFetchError",r)}}var Ur=globalThis&&globalThis.__awaiter||function(t,e,r,s){function i(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(l){try{h(s.next(l))}catch(d){a(d)}}function u(l){try{h(s.throw(l))}catch(d){a(d)}}function h(l){l.done?n(l.value):i(l.value).then(o,u)}h((s=s.apply(t,e||[])).next())})},Fh=globalThis&&globalThis.__rest||function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r};const gt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Lh=(t,e)=>Ur(void 0,void 0,void 0,function*(){const r=[502,503,504];Yh(t)?r.includes(t.status)?e(new Rt(gt(t),t.status)):t.json().then(s=>{e(new Uh(gt(s),t.status||500))}).catch(s=>{e(new ei(gt(s),s))}):e(new Rt(gt(t),0))}),Wh=(t,e,r,s)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),r))};function j(t,e,r,s){var i,n;return Ur(this,void 0,void 0,function*(){const a=(i=s==null?void 0:s.headers)!==null&&i!==void 0?i:{};s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const o=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",h=yield Hh(t,e,r+u,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(h):{data:Object.assign({},h),error:null}})}function Hh(t,e,r,s,i,n){return Ur(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,Wh(e,s,i,n)).then(u=>{if(!u.ok)throw u;return s!=null&&s.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>Lh(u,o))})})}function He(t){var e;let r=null;Gh(t)&&(r=Object.assign({},t),r.expires_at=Ah(t.expires_in));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function $e(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Bh(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:i,verification_type:n}=t,a=Fh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:s,redirect_to:i,verification_type:n},u=Object.assign({},a);return{data:{properties:o,user:u},error:null}}function Gh(t){return t.access_token&&t.refresh_token&&t.expires_in}var ue=globalThis&&globalThis.__awaiter||function(t,e,r,s){function i(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(l){try{h(s.next(l))}catch(d){a(d)}}function u(l){try{h(s.throw(l))}catch(d){a(d)}}function h(l){l.done?n(l.value):i(l.value).then(o,u)}h((s=s.apply(t,e||[])).next())})},Vh=globalThis&&globalThis.__rest||function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r};class zh{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=Qs(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e){return ue(this,void 0,void 0,function*(){try{return yield j(this.fetch,"POST",`${this.url}/logout`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(C(r))return{data:null,error:r};throw r}})}inviteUserByEmail(e,r={}){return ue(this,void 0,void 0,function*(){try{return yield j(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:$e})}catch(s){if(C(s))return{data:{user:null},error:s};throw s}})}generateLink(e){return ue(this,void 0,void 0,function*(){try{const{options:r}=e,s=Vh(e,["options"]),i=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(i.new_email=s==null?void 0:s.newEmail,delete i.newEmail),yield j(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Bh,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(C(r))return{data:{properties:null,user:null},error:r};throw r}})}createUser(e){return ue(this,void 0,void 0,function*(){try{return yield j(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$e})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}})}listUsers(){return ue(this,void 0,void 0,function*(){try{const{data:e,error:r}=yield j(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers});if(r)throw r;return{data:Object.assign({},e),error:null}}catch(e){if(C(e))return{data:{users:[]},error:e};throw e}})}getUserById(e){return ue(this,void 0,void 0,function*(){try{return yield j(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$e})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}})}updateUserById(e,r){return ue(this,void 0,void 0,function*(){try{return yield j(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:$e})}catch(s){if(C(s))return{data:{user:null},error:s};throw s}})}deleteUser(e){return ue(this,void 0,void 0,function*(){try{return yield j(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$e})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return ue(this,void 0,void 0,function*(){try{return{data:yield j(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers}),error:null}}catch(r){if(C(r))return{data:null,error:r};throw r}})}_deleteFactor(e){return ue(this,void 0,void 0,function*(){try{return{data:yield j(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(C(r))return{data:null,error:r};throw r}})}}const Jh="2.2.1",qh="http://localhost:9999",Zh="supabase.auth.token",Kh={"X-Client-Info":`gotrue-js/${Jh}`},ir=10,wt={MAX_RETRIES:10,RETRY_INTERVAL:2},Xh={getItem:t=>Ne()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{!Ne()||globalThis.localStorage.setItem(t,e)},removeItem:t=>{!Ne()||globalThis.localStorage.removeItem(t)}};function Qh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var M=globalThis&&globalThis.__awaiter||function(t,e,r,s){function i(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(l){try{h(s.next(l))}catch(d){a(d)}}function u(l){try{h(s.throw(l))}catch(d){a(d)}}function h(l){l.done?n(l.value):i(l.value).then(o,u)}h((s=s.apply(t,e||[])).next())})};Qh();const eu={url:qh,storageKey:Zh,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Kh};class tu{constructor(e){this.stateChangeEmitters=new Map,this.networkRetries=0,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0;const r=Object.assign(Object.assign({},eu),e);this.inMemorySession=null,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.persistSession=r.persistSession,this.storage=r.storage||Xh,this.admin=new zh({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Qs(r.fetch),this.detectSessionInUrl=r.detectSessionInUrl,this.initialize(),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)}}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return M(this,void 0,void 0,function*(){if(this.initializePromise)return this.initializePromise;try{if(this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:e,error:r}=yield this._getSessionFromUrl();if(r)return yield this._removeSession(),{error:r};const{session:s,redirectType:i}=e;return yield this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN",s),i==="recovery"&&this._notifyAllSubscribers("PASSWORD_RECOVERY",s),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(e){return C(e)?{error:e}:{error:new ei("Unexpected error during initialization",e)}}finally{this._handleVisibilityChange()}})}signUp(e){var r,s;return M(this,void 0,void 0,function*(){try{yield this._removeSession();let i;if("email"in e){const{email:h,password:l,options:d}=e;i=yield j(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:h,password:l,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:He})}else if("phone"in e){const{phone:h,password:l,options:d}=e;i=yield j(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:l,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:He})}else throw new sr("You must provide either an email or phone number and a password");const{data:n,error:a}=i;if(a||!n)return{data:{user:null,session:null},error:a};const o=n.session,u=n.user;return n.session&&(yield this._saveSession(n.session),this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(i){if(C(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithPassword(e){var r,s;return M(this,void 0,void 0,function*(){try{yield this._removeSession();let i;if("email"in e){const{email:o,password:u,options:h}=e;i=yield j(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:He})}else if("phone"in e){const{phone:o,password:u,options:h}=e;i=yield j(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:He})}else throw new sr("You must provide either an email or phone number and a password");const{data:n,error:a}=i;return a||!n?{data:{user:null,session:null},error:a}:(n.session&&(yield this._saveSession(n.session),this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:a})}catch(i){if(C(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithOAuth(e){var r,s,i;return M(this,void 0,void 0,function*(){return yield this._removeSession(),this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams})})}signInWithOtp(e){var r,s,i,n;return M(this,void 0,void 0,function*(){try{if(yield this._removeSession(),"email"in e){const{email:a,options:o}=e,{error:u}=yield j(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=o==null?void 0:o.data)!==null&&r!==void 0?r:{},create_user:(s=o==null?void 0:o.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:u}}if("phone"in e){const{phone:a,options:o}=e,{error:u}=yield j(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=o==null?void 0:o.data)!==null&&i!==void 0?i:{},create_user:(n=o==null?void 0:o.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null},error:u}}throw new sr("You must provide either an email or phone number.")}catch(a){if(C(a))return{data:{user:null,session:null},error:a};throw a}})}verifyOtp(e){var r,s;return M(this,void 0,void 0,function*(){try{yield this._removeSession();const{data:i,error:n}=yield j(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captchaToken:(r=e.options)===null||r===void 0?void 0:r.captchaToken}}),redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,xform:He});if(n)throw n;if(!i)throw"An error occurred on token verification.";const a=i.session,o=i.user;return a!=null&&a.access_token&&(yield this._saveSession(a),this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:o,session:a},error:null}}catch(i){if(C(i))return{data:{user:null,session:null},error:i};throw i}})}getSession(){return M(this,void 0,void 0,function*(){yield this.initializePromise;let e=null;if(this.persistSession){const n=yield Qr(this.storage,this.storageKey);n!==null&&(this._isValidSession(n)?e=n:yield this._removeSession())}else e=this.inMemorySession;if(!e)return{data:{session:null},error:null};if(!(e.expires_at?e.expires_at<=Date.now()/1e3:!1))return{data:{session:e},error:null};const{session:s,error:i}=yield this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}})}getUser(e){var r,s;return M(this,void 0,void 0,function*(){try{if(!e){const{data:i,error:n}=yield this.getSession();if(n)throw n;e=(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0}return yield j(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$e})}catch(i){if(C(i))return{data:{user:null},error:i};throw i}})}updateUser(e){return M(this,void 0,void 0,function*(){try{const{data:r,error:s}=yield this.getSession();if(s)throw s;if(!r.session)throw new rt;const i=r.session,{data:n,error:a}=yield j(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,body:e,jwt:i.access_token,xform:$e});if(a)throw a;return i.user=n.user,yield this._saveSession(i),this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}}catch(r){if(C(r))return{data:{user:null},error:r};throw r}})}_decodeJWT(e){return Nh(e)}setSession(e){return M(this,void 0,void 0,function*(){try{const r=Date.now()/1e3;let s=r,i=!0,n=null;if(e.access_token&&e.access_token.split(".")[1]){const a=this._decodeJWT(e.access_token);a.exp&&(s=a.exp,i=s<=r)}if(i){if(!e.refresh_token)throw new rt;const{data:a,error:o}=yield this._refreshAccessToken(e.refresh_token);if(o)return{data:{session:null,user:null},error:o};if(!a.session)return{data:{session:null,user:null},error:null};n=a.session}else{const{data:a,error:o}=yield this.getUser(e.access_token);if(o)throw o;n={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-r,expires_at:s}}return yield this._saveSession(n),this._notifyAllSubscribers("TOKEN_REFRESHED",n),{data:{session:n,user:n.user},error:null}}catch(r){if(C(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(e){var r;return M(this,void 0,void 0,function*(){try{if(!e){const{data:n,error:a}=yield this.getSession();if(a)throw a;e=(r=n.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new rt;const{session:s,error:i}=yield this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}}catch(s){if(C(s))return{data:{user:null,session:null},error:s};throw s}})}_getSessionFromUrl(){return M(this,void 0,void 0,function*(){try{if(!Ne())throw new ge("No browser detected.");if(!this._isImplicitGrantFlow())throw new ge("Not a valid implicit grant flow url.");const e=X("error_description");if(e){const E=X("error_code");if(!E)throw new ge("No error_code detected.");const b=X("error");throw b?new ge(e,{error:b,code:E}):new ge("No error detected.")}const r=X("provider_token"),s=X("provider_refresh_token"),i=X("access_token");if(!i)throw new ge("No access_token detected.");const n=X("expires_in");if(!n)throw new ge("No expires_in detected.");const a=X("refresh_token");if(!a)throw new ge("No refresh_token detected.");const o=X("token_type");if(!o)throw new ge("No token_type detected.");const h=Math.round(Date.now()/1e3)+parseInt(n),{data:l,error:d}=yield this.getUser(i);if(d)throw d;const w=l.user,O={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:parseInt(n),expires_at:h,refresh_token:a,token_type:o,user:w},v=X("type");return window.location.hash="",{data:{session:O,redirectType:v},error:null}}catch(e){if(C(e))return{data:{session:null,redirectType:null},error:e};throw e}})}_isImplicitGrantFlow(){return Ne()&&(Boolean(X("access_token"))||Boolean(X("error_description")))}signOut(){var e;return M(this,void 0,void 0,function*(){const{data:r,error:s}=yield this.getSession();if(s)return{error:s};const i=(e=r.session)===null||e===void 0?void 0:e.access_token;if(i){const{error:n}=yield this.admin.signOut(i);if(n)return{error:n}}return yield this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT",null),{error:null}})}onAuthStateChange(e){const r=jh(),s={id:r,callback:e,unsubscribe:()=>{this.stateChangeEmitters.delete(r)}};return this.stateChangeEmitters.set(r,s),{data:{subscription:s}}}resetPasswordForEmail(e,r={}){return M(this,void 0,void 0,function*(){try{return yield j(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(C(s))return{data:null,error:s};throw s}})}_refreshAccessToken(e){return M(this,void 0,void 0,function*(){try{return yield j(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:He})}catch(r){if(C(r))return{data:{session:null,user:null},error:r};throw r}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r={}){const s=this._getUrlForProvider(e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return Ne()&&(window.location.href=s),{data:{provider:e,url:s},error:null}}_recoverAndRefresh(){var e;return M(this,void 0,void 0,function*(){try{const r=yield Qr(this.storage,this.storageKey);if(!this._isValidSession(r)){r!==null&&(yield this._removeSession());return}const s=Math.round(Date.now()/1e3);if(((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+ir)if(this.autoRefreshToken&&r.refresh_token){this.networkRetries++;const{error:i}=yield this._callRefreshToken(r.refresh_token);if(i){if(console.log(i.message),i instanceof Rt&&this.networkRetries<wt.MAX_RETRIES){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),this.refreshTokenTimer=setTimeout(()=>this._recoverAndRefresh(),Math.pow(wt.RETRY_INTERVAL,this.networkRetries)*100);return}yield this._removeSession()}this.networkRetries=0}else yield this._removeSession();else this.persistSession&&(yield this._saveSession(r)),this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){console.error(r);return}})}_callRefreshToken(e){var r,s;return M(this,void 0,void 0,function*(){if(this.refreshingDeferred)return this.refreshingDeferred.promise;try{if(this.refreshingDeferred=new zt,!e)throw new rt;const{data:i,error:n}=yield this._refreshAccessToken(e);if(n)throw n;if(!i.session)throw new rt;yield this._saveSession(i.session),this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(C(i)){const n={session:null,error:i};return(r=this.refreshingDeferred)===null||r===void 0||r.resolve(n),n}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null}})}_notifyAllSubscribers(e,r){this.stateChangeEmitters.forEach(s=>s.callback(e,r))}_saveSession(e){return M(this,void 0,void 0,function*(){this.persistSession||(this.inMemorySession=e);const r=e.expires_at;if(r){const s=Math.round(Date.now()/1e3),i=r-s,n=i>ir?ir:.5;this._startAutoRefreshToken((i-n)*1e3)}this.persistSession&&e.expires_at&&(yield this._persistSession(e))})}_persistSession(e){return Ih(this.storage,this.storageKey,e)}_removeSession(){return M(this,void 0,void 0,function*(){this.persistSession?yield $h(this.storage,this.storageKey):this.inMemorySession=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer)})}_startAutoRefreshToken(e){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(e<=0||!this.autoRefreshToken)&&(this.refreshTokenTimer=setTimeout(()=>M(this,void 0,void 0,function*(){this.networkRetries++;const{data:{session:r},error:s}=yield this.getSession();if(!s&&r){const{error:i}=yield this._callRefreshToken(r.refresh_token);i||(this.networkRetries=0),i instanceof Rt&&this.networkRetries<wt.MAX_RETRIES&&this._startAutoRefreshToken(Math.pow(wt.RETRY_INTERVAL,this.networkRetries)*100)}}),e),typeof this.refreshTokenTimer.unref=="function"&&this.refreshTokenTimer.unref())}_handleVisibilityChange(){if(!Ne()||!(window!=null&&window.addEventListener))return!1;try{window==null||window.addEventListener("visibilitychange",()=>M(this,void 0,void 0,function*(){document.visibilityState==="visible"&&(yield this.initializePromise,yield this._recoverAndRefresh())}))}catch(e){console.error("_handleVisibilityChange",e)}}_getUrlForProvider(e,r){const s=[`provider=${encodeURIComponent(e)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return`${this.url}/authorize?${s.join("&")}`}_unenroll(e){var r;return M(this,void 0,void 0,function*(){const{data:s,error:i}=yield this.getSession();return i?{data:null,error:i}:yield j(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}_enroll(e){var r,s;return M(this,void 0,void 0,function*(){const{data:i,error:n}=yield this.getSession();if(n)return{data:null,error:n};const{data:a,error:o}=yield j(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}_verify(e){var r;return M(this,void 0,void 0,function*(){const{data:s,error:i}=yield this.getSession();if(i)return{data:null,error:i};const{data:n,error:a}=yield j(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+n.expires_in},n)),this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",n),{data:n,error:a})})}_challenge(e){var r;return M(this,void 0,void 0,function*(){const{data:s,error:i}=yield this.getSession();return i?{data:null,error:i}:yield j(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}_challengeAndVerify(e){return M(this,void 0,void 0,function*(){const{data:r,error:s}=yield this._challenge({factorId:e.factorId});return s?{data:null,error:s}:yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return M(this,void 0,void 0,function*(){const{data:{user:e},error:r}=yield this.getUser();if(r)return{data:null,error:r};const s=(e==null?void 0:e.factors)||[],i=s.filter(n=>n.factor_type==="totp"&&n.status==="verified");return{data:{all:s,totp:i},error:null}})}_getAuthenticatorAssuranceLevel(){var e,r;return M(this,void 0,void 0,function*(){const{data:{session:s},error:i}=yield this.getSession();if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const n=this._decodeJWT(s.access_token);let a=null;n.aal&&(a=n.aal);let o=a;((r=(e=s.user.factors)===null||e===void 0?void 0:e.filter(l=>l.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const h=n.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:h},error:null}})}}class ru extends tu{constructor(e){super(e)}}var su=globalThis&&globalThis.__awaiter||function(t,e,r,s){function i(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(l){try{h(s.next(l))}catch(d){a(d)}}function u(l){try{h(s.throw(l))}catch(d){a(d)}}function h(l){l.done?n(l.value):i(l.value).then(o,u)}h((s=s.apply(t,e||[])).next())})};const iu={headers:Oh},nu={schema:"public"},au={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},ou={};class lu{constructor(e,r,s){var i,n,a,o,u,h,l,d;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const w=Rh(e);if(this.realtimeUrl=`${w}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${w}/auth/v1`,this.storageUrl=`${w}/storage/v1`,w.match(/(supabase\.co)|(supabase\.in)/)){const F=w.split(".");this.functionsUrl=`${F[0]}.functions.${F[1]}.${F[2]}`}else this.functionsUrl=`${w}/functions/v1`;const v=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,E={db:nu,realtime:ou,auth:Object.assign(Object.assign({},au),{storageKey:v}),global:iu},b=Ph(s!=null?s:{},E);this.storageKey=(n=(i=b.auth)===null||i===void 0?void 0:i.storageKey)!==null&&n!==void 0?n:"",this.headers=(o=(a=b.global)===null||a===void 0?void 0:a.headers)!==null&&o!==void 0?o:{},this.auth=this._initSupabaseAuthClient((u=b.auth)!==null&&u!==void 0?u:{},this.headers,(h=b.global)===null||h===void 0?void 0:h.fetch),this.fetch=Mh(r,this._getAccessToken.bind(this),(l=b.global)===null||l===void 0?void 0:l.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},b.realtime)),this.rest=new El(`${w}/rest/v1`,{headers:this.headers,schema:(d=b.db)===null||d===void 0?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new gl(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Sh(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}rpc(e,r={},s){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return su(this,void 0,void 0,function*(){const{data:s}=yield this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:i,storageKey:n},a,o){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ru({url:this.authUrl,headers:Object.assign(Object.assign({},u),a),storageKey:n,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:i,fetch:o})}_initRealtimeClient(e){return new uh(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,s==null?void 0:s.access_token,"CLIENT")})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r!=null?r:null),this.changedAccessToken=r):(e==="SIGNED_OUT"||e==="USER_DELETED")&&(this.realtime.setAuth(this.supabaseKey),s=="STORAGE"&&this.auth.signOut())}}const hu=(t,e,r)=>new lu(t,e,r),_e=hu("https://udzlzmkqqsdnbbeqboub.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVkemx6bWtxcXNkbmJiZXFib3ViIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg4NSwiZXhwIjoxOTgxNjUyODg1fQ.kZX7oRFY5ZL2eI3p6W5p9PBpRPQOUxAuSv3i2dBEsyI"),bu=async(t,e)=>await _e.auth.signUp({email:t,password:e}),uu=async(t,e)=>await _e.auth.signInWithPassword({email:t,password:e}),cu=async()=>await _e.auth.signOut(),du=async t=>await _e.from("Tasks").insert(t),fu=async(t="*",e="id",r=!1)=>(await _e.from("Tasks").select(t).order(e,{ascending:r})).data,mu=async t=>await _e.from("Tasks").update({title:t.title,content:t.content,max_time:t.max_time,discarded:!1,completed:!1}).eq("id",t.id),_u=async t=>await _e.from("Tasks").delete().eq("id",t),yu=async t=>await _e.from("Tasks").update({discarded:!0}).eq("id",t),pu=async t=>await _e.from("Tasks").update({completed:!0}).eq("id",t),vu=async()=>(await _e.from("Tasks").select("*").order("id",{ascending:!1}).limit(1)).data[0].id,ie=dl(),ti=li(),ku=async t=>{const e=await uu(t.value.email.content,t.value.password.content);return e.error==null&&ti.login(e.data.user.id),e.error},Su=async()=>{let t="logued out";const e=await cu();return e.error==null?(ie.deleteTasks(),ti.logout()):t=e.error,t},Tu=async()=>{let t;return ie.loadedSupa==!1?(t=await fu(),ie.init(t),console.log("from supa")):(t=ie.getTasks(),console.log("from local")),t},Ou=async t=>{const e=await _u(t);return e.error==null&&ie.deleteTask(t),e.error},Du=async t=>{const e=await yu(t);return e.error==null&&ie.discardTask(t),e.error},xu=async t=>{const e=await pu(t);return e.error==null&&ie.completeTask(t),e.error},Eu=t=>ie.getTask(t),Mu=async t=>{const e=await du(t);return console.log(e),e.error==null&&(t.id=await vu(),ie.newTask(t)),e},Ru=async t=>{console.log(t.id);const e=await mu(t);return console.log(e),e.error==null&&(console.log(t.id),ie.deleteTask(t.id),ie.newTask(t)),e};export{Du as a,Ou as b,xu as c,Su as d,Ru as e,Mu as f,ku as g,Tu as i,bu as s,Eu as t,dl as u};
