import{_ as y,r as b,b as l,y as g,f as I,d as s,z as u,c as a,t as v,v as d,A as m,s as f,T as w,p as C,i as T}from"./file_index.d2c81d65.js";import{e as h,f as S}from"./file_index.e10fa390.js";import{u as $}from"./file_auth.e7040b8e.js";const B="/IRONHACK-FinalTask/assets/file_cerrar.977b2f8a.svg";const r=i=>(C("data-v-84f7afcc"),i=i(),T(),i),M={class:"modal-overlay"},V={key:0},q=["form"],D={class:"form-group"},F=r(()=>s("label",{for:"title"},"T\xEDtulo",-1)),N=["value"],U=r(()=>s("label",{for:"content"},"Contenido",-1)),A=["value"],E=r(()=>s("label",{for:"datetime"},"Fecha L\xEDmite",-1)),O=["value"],R=r(()=>s("button",{class:"btn btn-plus"},"Enviar",-1)),j={key:1},z={key:0},H=["src"],K={key:1},L=r(()=>s("img",{class:"close-img",src:B,alt:""},null,-1)),G=[L],J={__name:"Modal",props:{content:Object,useForm:Boolean,confirmDelete:Boolean},emits:["close-modal"],setup(i,{emit:_}){const n=i,p=$(),o=b({title:{content:"",error:!1},content:{content:"",error:!1},max_time:{content:"",error:!1}}),k=()=>{o.value.title.content="",o.value.content.content="",o.value.max_time.content=""},x=async(c,t)=>{const e={user_id:p.getUser(),title:o.value.title.content,content:o.value.content.content,discarded:!1,created_at:null,completed:!1};o.value.max_time.content.length>0&&(e.max_time=o.value.max_time.content),t?(o.value.title.content||(e.title=n.content.task.title),o.value.content.content||(e.content=n.content.task.content),o.value.max_time.content||(e.max_time=n.content.task.max_time),e.id=c,await h(e)):await S(e),_("close-modal"),k()};return(c,t)=>(l(),g(w,{name:"modal-fade"},{default:I(()=>[s("div",M,[s("div",{class:"mymodal",onClick:t[9]||(t[9]=u(()=>{},["stop"]))},[n.useForm?(l(),a("div",V,[s("h2",null,v(n.content.text),1),s("form",{form:o.value,"on:submit":t[6]||(t[6]=u(e=>x(n.content.taskId,n.content.edit),["prevent"]))},[s("div",D,[F,n.content.edit?(l(),a("input",{key:0,value:n.content.task.title,onInput:t[0]||(t[0]=e=>o.value.title.content=e.target.value),id:"title",class:"form-control",type:"text",required:""},null,40,N)):d((l(),a("input",{key:1,"onUpdate:modelValue":t[1]||(t[1]=e=>o.value.title.content=e),id:"title",class:"form-control",type:"text",required:""},null,512)),[[m,o.value.title.content]]),U,n.content.edit?(l(),a("textarea",{key:2,value:n.content.task.content,onInput:t[2]||(t[2]=e=>o.value.content.content=e.target.value),class:"form-control",id:"content",rows:"3",required:""},null,40,A)):d((l(),a("textarea",{key:3,"onUpdate:modelValue":t[3]||(t[3]=e=>o.value.content.content=e),class:"form-control",id:"content",rows:"3",required:""},null,512)),[[m,o.value.content.content]]),E,n.content.edit?(l(),a("input",{key:4,value:n.content.task.max_time,onInput:t[4]||(t[4]=e=>o.value.max_time.content=e.target.value),class:"form-control",id:"datetime",type:"datetime-local"},null,40,O)):d((l(),a("input",{key:5,"onUpdate:modelValue":t[5]||(t[5]=e=>o.value.max_time.content=e),class:"form-control",id:"datetime",type:"datetime-local"},null,512)),[[m,o.value.max_time.content]]),R])],40,q)])):(l(),a("div",j,[n.content.image?(l(),a("div",z,[s("img",{src:n.content.image,width:"100"},null,8,H)])):f("",!0),s("p",null,v(n.content.text),1),i.confirmDelete?(l(),a("div",K,[s("button",{class:"btn btn-primary px-4 mx-3",onClick:t[7]||(t[7]=e=>c.$emit("close-modal"))}," No "),s("button",{class:"btn btn-danger px-4 mx-3",onClick:t[8]||(t[8]=e=>c.$emit("delete-modal",n.content.taskId,n.content.taskTitle))}," Si ")])):f("",!0)]))]),s("div",{class:"close",onClick:t[10]||(t[10]=e=>c.$emit("close-modal"))},G)])]),_:1}))}},X=y(J,[["__scopeId","data-v-84f7afcc"]]);export{X as M};
